import{_ as T,b as m,w as l,d as V,o as r,V as f,h as _,e,g as h,f as g,q as b,t as $,S as x,m as y,n as d,E as u,s as v,I as R,Q as C}from"./App-DI1obuQm.js";import{V as N}from"./VTextarea-mB9vEPSE.js";const I={name:"mycoperative-withdrawal-show",data:()=>({formatter:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})}),methods:{publishCurrentSubmission(n,o){o.$http(`mycoperative/api/withdrawal/${n.id}/publish`,{method:"PUT",params:n}).then(()=>{this.$router.push({name:"mycoperative-withdrawal"})})},closeThisTransaction(n,o){o.$http(`mycoperative/api/withdrawal/${n.id}/close-by-cash`,{method:"PUT",params:n}).then(()=>{this.$router.push({name:"mycoperative-withdrawal"})})},downloadReceiptOfTransaction(n,o){o.$http(`mycoperative/api/receipt/${n.slug}`,{method:"GET",responseType:"blob"}).then(p=>{const c=new Blob([p],{type:"application/pdf"}),i=document.createElement("a");i.href=URL.createObjectURL(c),i.download=n.slug+".pdf",i.click(),URL.revokeObjectURL(i.href),o.loader.state=!1}).catch(()=>{})}}},E={class:"text-caption pr-1 pl-2"};function B(n,o,p,c,i,w){const U=V("v-currency-field"),k=V("form-show");return r(),m(k,{"with-helpdesk":"","hide-delete":"","hide-edit":"",ref:"form"},{toolbar:l(({record:a,store:s})=>[["REPAIRED"].includes(a.status)?(r(),m(f,{key:0,color:"orange",icon:"edit",onClick:o[0]||(o[0]=t=>n.$refs.form.openFormEdit())})):_("",!0),a.status==="COMPLETED"?(r(),m(f,{key:1,icon:"",onClick:t=>w.downloadReceiptOfTransaction(a,s)},{default:l(()=>[e(g,null,{default:l(()=>o[1]||(o[1]=[h("print")])),_:1})]),_:2},1032,["onClick"])):_("",!0)]),default:l(({record:a,theme:s})=>[e(x,{color:s,class:"position-absolute d-flex pa-1",rounded:"pill",style:{top:"8px",right:"8px"}},{default:l(()=>[o[2]||(o[2]=b("div",{class:"text-caption bg-white rounded-pill px-2"},"STS",-1)),b("div",E,$(a.status),1)]),_:2},1032,["color"]),e(v,null,{default:l(()=>[e(y,{dense:""},{default:l(()=>[e(d,{cols:"12"},{default:l(()=>[e(u,{label:"Nomor",variant:"outlined",modelValue:a.slug,"onUpdate:modelValue":t=>a.slug=t,color:s,readonly:"","hide-details":""},null,8,["modelValue","onUpdate:modelValue","color"])]),_:2},1024),e(d,{cols:"12"},{default:l(()=>[e(u,{label:"name",variant:"outlined",color:s,modelValue:a.name,"onUpdate:modelValue":t=>a.name=t,readonly:"","hide-details":""},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"12"},{default:l(()=>[e(U,{label:"Nominal",variant:"outlined",color:s,modelValue:a.total,"onUpdate:modelValue":t=>a.total=t,"hide-details":"",readonly:""},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"12"},{default:l(()=>[e(N,{label:"Keterangan",rows:"3",variant:"outlined",color:s,modelValue:a.description,"onUpdate:modelValue":t=>a.description=t,readonly:""},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(R,{class:"overline"},{default:l(()=>o[3]||(o[3]=[h("Informasi Bank")])),_:1}),e(v,{class:"pt-2"},{default:l(()=>[e(y,{dense:""},{default:l(()=>[e(d,{cols:"6"},{default:l(()=>[e(u,{label:"Mode",variant:"outlined",modelValue:a.transfermode,"onUpdate:modelValue":t=>a.transfermode=t,readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:l(()=>[e(u,{label:"Tgl Tf",variant:"outlined",modelValue:a.transferdate,"onUpdate:modelValue":t=>a.transferdate=t,readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"4"},{default:l(()=>[e(u,{label:"BANK",variant:"outlined",modelValue:a.bank_name,"onUpdate:modelValue":t=>a.bank_name=t,"hide-details":"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"8"},{default:l(()=>[e(u,{variant:"outlined",label:"Nomor Rekening",modelValue:a.bank_account_number,"onUpdate:modelValue":t=>a.bank_account_number=t,readonly:"","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"12"},{default:l(()=>[e(u,{variant:"outlined",label:"Atas Nama",modelValue:a.bank_account_name,"onUpdate:modelValue":t=>a.bank_account_name=t,readonly:"","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"12"},{default:l(()=>[e(C,{src:a.transfer_path},null,8,["src"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},512)}const L=T(I,[["render",B],["__scopeId","data-v-81abaee1"]]);export{L as default};
