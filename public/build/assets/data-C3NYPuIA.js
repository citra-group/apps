import{_ as C,b as h,w as a,d as V,o as l,e as r,j as k,k as $,F as D,q as S,s as y,I as w,n as I,R as B,V as E,g as v,m as M,h as T,J as F,f as L,t as R}from"./App-DnAwVsSu.js";const U={name:"coperative-deposit-data",data:()=>({dialogReport:!1,menuDateStart:!1,dateStart:null,menuDateEnd:!1,dateEnd:null,reportMode:null,reportYear:2023,fileImport:null}),methods:{printReport(t){this.dialogReport=!1,t.loader.state=!0;let e={};switch(e.mode=this.reportMode,e.filters=t.pageFilters,this.reportMode){case"laporan_simpanan":case"piutang_simpanan":e.date_start=this.dateStart,e.date_end=this.dateEnd;break;default:e.year=this.reportYear;break}t.$http("coperative/api/deposit/print-report",{method:"GET",params:e,responseType:"blob"}).then(_=>{const s=new Date;let b=s.getDate(),p=s.getMonth()+1,c=s.getFullYear();const m=new Blob([_],{type:"application/pdf"}),o=document.createElement("a");o.href=URL.createObjectURL(m),o.download=this.reportMode+`_${b}-${p}-${c}.pdf`,o.click(),URL.revokeObjectURL(o.href),t.loader.state=!1,this.dateStart=null,this.dateEnd=null,this.reportMode=null}).catch(()=>{t.loader.state=!1})},processImportData(t){t.$http("coperative/api/deposit/import-data",{method:"POST",contentType:"multipart/form-data",params:{file:this.fileImport}}).then(()=>{t.snackbar.color="green",t.snackbar.text="Berhasil diImport",t.snackbar.state=!0}).catch(()=>{})}}},N=["onClick"],O={key:1};function j(t,e,_,s,b,p){const c=V("item-data"),m=V("form-data");return l(),h(m,{"hide-create":""},{desktopRow:a(({headers:o,index:u,internalItem:n,isSelected:d,record:i,toggleSelect:g})=>[r(c,{headers:o,item:i,index:u,internalItem:n,isSelected:d,toggleSelect:g},{default:a(()=>[(l(!0),k(D,null,$(o,(f,x)=>(l(),k("td",{key:x,class:F(f.mode==="icon"?"text-center":"text-left"),onClick:Y=>g(n)},[f.mode==="icon"?(l(),h(L,{key:0,color:i.paid===!0?"green":"black"},{default:a(()=>[v(R(i.paid===!0?"check_circle":"unpublished "),1)]),_:2},1032,["color"])):(l(),k("span",O,R(i[f.value]),1))],10,N))),128))]),_:2},1032,["headers","item","index","internalItem","isSelected","toggleSelect"])]),info:a(({statuses:{isOperator:o},theme:u,store:n})=>[r(y,{class:"d-flex py-1"},{default:a(()=>e[1]||(e[1]=[S("div",{class:"overline"},"import data",-1)])),_:1}),r(w),o?T("",!0):(l(),h(y,{key:0,class:"py-2"},{default:a(()=>[r(M,{"no-gutters":""},{default:a(()=>[r(I,{cols:"12"},{default:a(()=>[r(B,{"prepend-icon":"","prepend-inner-icon":"attach_file",label:"Import Data","truncate-length":"15",modelValue:t.fileImport,"onUpdate:modelValue":e[0]||(e[0]=d=>t.fileImport=d)},null,8,["modelValue"])]),_:1}),r(I,{cols:"12"},{default:a(()=>[r(E,{color:u,depressed:"",dark:"",block:"",onClick:d=>p.processImportData(n)},{default:a(()=>e[2]||(e[2]=[v("IMPORT")])),_:2},1032,["color","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))]),feed:a(()=>e[3]||(e[3]=[])),filter:a(()=>e[4]||(e[4]=[])),_:1})}const q=C(U,[["render",j]]);export{q as default};
