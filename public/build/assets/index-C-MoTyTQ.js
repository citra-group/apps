import{a1 as O,bo as j,bn as L,bA as N,_ as z,j as m,e as t,w as e,i as o,N as D,V as B,m as I,n as V,p as _,X as G,l as w,g as u,G as F,bB as A,aI as M,d as T,b as h,f as b,h as C,F as v,k as g,t as r,s as W,q as U,o as s,u as R,v as E,x as q}from"./App-Da-KJahm.js";import{V as H}from"./VBadge-BVqFiGXZ.js";const J=O()({name:"VSlideGroupItem",props:j(),emits:{"group:selected":l=>!0},setup(l,n){let{slots:p}=n;const y=L(l,N);return()=>{var P;return(P=p.default)==null?void 0:P.call(p,{isSelected:y.isSelected.value,select:y.select,toggle:y.toggle,selectedClass:y.selectedClass.value})}}}),X={name:"mycoperative-dashboard",data:()=>({modelOverlay:!1,tenors:[],tenor:null,formatter:new Intl.NumberFormat("id-ID",{currency:"IDR",minimumFractionDigits:0})}),methods:{formatToCustomPattern(l){let n=l.toString().split(".")[0];return n=n.replace(/\B(?=(\d{3})+(?!\d))/g,"."),n},getTotalValue(l){return l.reduce((n,p)=>(n+=parseFloat(p.value),n),0)},getSisaValue(l){return!l||l.length===0?0:l.reduce((n,p,y)=>y===0?parseFloat(p.value):n-parseFloat(p.value),0)},openPayment(l){this.$router.push({name:"mycoperative-payment-show",params:{payment:l}})},openLoan(l){this.$router.push({name:"mycoperative-loan-show",params:{loan:l}})},getChipColor(l){switch(l){case"BELUM DIBAYAR":return"red";case"PUBLISH":return"primary"}},onInitialized:function({record:l}){this.tenors=l.tenors,l.hasMainDeposit||(this.modelOverlay=!0)},postDepositMain:function(){this.$http("mycoperative/api/set-main-deposit",{method:"POST",params:{tenor:parseInt(this.tenor)}}).then(()=>{this.modelOverlay=!1})},Overlay:function(){this.$router.push({path:"/"})}}},Y={class:"px-6"},K={class:"d-flex"},Q={class:"text-right"},Z={class:"text-right"},$={class:"text-right"},tt={class:"text-right"},et={style:{"text-align":"right"}};function at(l,n,p,y,P,d){const c=T("widget-number"),k=T("apexchart"),S=T("widget-card"),x=T("page-home");return s(),m(v,null,[t(A,{"model-value":l.modelOverlay,class:"align-center justify-center",persistent:""},{default:e(()=>[o("div",Y,[t(D,{class:"text-center",rounded:"lg"},{default:e(()=>[t(B,{class:"d-flex justify-end"},{default:e(()=>[t(I,{variant:"text",class:"mr-4",icon:"",onClick:d.Overlay},{default:e(()=>[t(V,null,{default:e(()=>n[1]||(n[1]=[_("clear")])),_:1,__:[1]})]),_:1},8,["onClick"])]),_:1}),t(G,{class:"mt-4",color:"warning",size:"64"},{default:e(()=>[t(V,{size:"36"},{default:e(()=>n[2]||(n[2]=[_("lightbulb")])),_:1,__:[2]})]),_:1}),t(w,null,{default:e(()=>[n[3]||(n[3]=_(" Anda belum menentukan termin simpanan pokok. Silahkan pilih termin di bawah ini dan klik simpan. ")),t(B,{class:"mt-2"},{default:e(()=>[t(u,{cols:"12"},{default:e(()=>[t(F,{items:l.tenors,label:"Pilih Termin Simpanan Pokok",modelValue:l.tenor,"onUpdate:modelValue":n[0]||(n[0]=a=>l.tenor=a),"hide-details":""},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1,__:[3]}),t(w,{class:"pt-0"},{default:e(()=>[t(I,{disabled:l.tenor===null,block:"",onClick:d.postDepositMain},{default:e(()=>n[4]||(n[4]=[_("SIMPAN")])),_:1,__:[4]},8,["disabled","onClick"])]),_:1})]),_:1})])]),_:1},8,["model-value"]),t(x,{"page-name":"mycoperative-dashboard",onInitialized:d.onInitialized},{toolbar:e(({record:a})=>[a&&a.countUnreadNotification?(s(),h(I,{key:0,icon:""},{default:e(()=>[t(H,{color:"orange",content:a.countUnreadNotification,id:"menu-activator"},{default:e(()=>[t(V,null,{default:e(()=>n[5]||(n[5]=[_("notifications")])),_:1,__:[5]})]),_:2},1032,["content"])]),_:2},1024)):b("",!0),a&&a.processeLoan?(s(),h(U,{key:1,transition:"slide-x-transition",activator:"#menu-activator",width:"auto",rounded:"6"},{default:e(()=>[t(W,{density:"compact"},{default:e(()=>[(s(!0),m(v,null,g(a.processeLoan,(i,f)=>(s(),h(R,{key:i.id,value:f,onClick:lt=>d.openLoan(i.id),rounded:"xl",class:"mx-4"},{default:e(()=>[t(E,null,{default:e(()=>[t(V,{size:"small",class:"mr-4"},{default:e(()=>n[6]||(n[6]=[_("directory_sync")])),_:1,__:[6]}),_(r(i.slug)+" - "+r(i.name)+" - ",1),t(q,{size:"x-small",color:d.getChipColor(i.status)},{default:e(()=>[_(r(i.status),1)]),_:2},1032,["color"])]),_:2},1024)]),_:2},1032,["value","onClick"]))),128))]),_:2},1024)]),_:2},1024)):b("",!0)]),default:e(({record:a})=>[t(w,null,{default:e(()=>[t(M,null,{default:e(()=>[t(J,null,{default:e(()=>[o("div",K,[t(u,null,{default:e(()=>[t(c,{width:"250",title:"Simpanan Pokok","hide-icon":"",label:"Simpanan Pokok saat ini",icon:"account_balance_wallet",value:l.formatter.format(a.totalPokok)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250",title:"Simpanan Wajib","hide-icon":"",label:"Simpanan Wajib saat ini",icon:"account_balance_wallet",value:l.formatter.format(a.totalWajib)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250",title:"Total Pokok & Wajib","hide-icon":"",label:"Total Pokok & Wajib saat ini",icon:"account_balance_wallet",value:l.formatter.format(a.totalPokokWajib)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250",title:"Tabungan","hide-icon":"",label:"Total Tabungan",icon:"account_balance_wallet",value:l.formatter.format(a.totalTabungan)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250",title:"Penarikan","hide-icon":"",label:"Penarikan saat ini",icon:"account_balance_wallet",value:l.formatter.format(a.totalPenarikan)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250",title:"Saldo Tabungan","hide-icon":"",label:"Saldo Tabungan saat ini",icon:"account_balance_wallet",value:l.formatter.format(a.totalSaldoTabungan)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250",title:"Saldo Simpanan","hide-icon":"",label:"Saldo Simpanan saat ini",icon:"account_balance_wallet",value:l.formatter.format(a.totalSaldo)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250","hide-icon":"",title:"Tagihan",label:"Total Tagihan Saat Ini",icon:"payments",value:l.formatter.format(a.sisaPinjaman)},null,8,["value"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024),t(w,{style:{"margin-bottom":"35px"}},{default:e(()=>[t(B,null,{default:e(()=>[a&&a.depositByType?(s(),h(u,{key:0,cols:"12",md:"3"},{default:e(()=>[t(S,{style:{"min-height":"210px"},title:a.depositByType.title},{table:e(()=>[t(C,{density:"compact"},{default:e(()=>[o("tbody",null,[(s(!0),m(v,null,g(a.depositByType.table,(i,f)=>(s(),m("tr",{key:f},[o("td",null,r(i.title),1),o("td",Q,r(i.value),1)]))),128))])]),_:2},1024)]),default:e(()=>[t(k,{type:"donut",options:{...a.depositByType.chartOptions,tooltip:{y:{formatter:function(i){return d.formatToCustomPattern(i)}}}},series:a.depositByType.series},null,8,["options","series"])]),_:2},1032,["title"])]),_:2},1024)):b("",!0),a&&a.savingsBalance?(s(),h(u,{key:1,cols:"12",md:"3"},{default:e(()=>[t(S,{style:{"min-height":"210px"},title:a.savingsBalance.title},{table:e(()=>[t(C,{density:"compact"},{default:e(()=>[o("tbody",null,[(s(!0),m(v,null,g(a.savingsBalance.table,(i,f)=>(s(),m("tr",{key:f},[o("td",null,r(i.title),1),o("td",Z,r(i.value),1)]))),128))])]),_:2},1024)]),default:e(()=>[t(k,{type:"donut",options:{...a.savingsBalance.chartOptions,tooltip:{y:{formatter:function(i){return d.formatToCustomPattern(i)}}}},series:a.savingsBalance.series},null,8,["options","series"])]),_:2},1032,["title"])]),_:2},1024)):b("",!0),a&&a.loanvspayment?(s(),h(u,{key:2,cols:"12",md:"3"},{default:e(()=>[t(S,{style:{"min-height":"210px"},title:a.loanvspayment.title},{table:e(()=>[t(C,{density:"compact"},{default:e(()=>[o("tbody",null,[(s(!0),m(v,null,g(a.loanvspayment.table,(i,f)=>(s(),m("tr",{key:f},[o("td",null,r(i.title),1),o("td",$,r(i.value),1)]))),128))])]),_:2},1024)]),default:e(()=>[t(k,{type:"donut",options:{...a.loanvspayment.chartOptions,tooltip:{y:{formatter:function(i){return d.formatToCustomPattern(i)}}}},series:a.loanvspayment.series},null,8,["options","series"])]),_:2},1032,["title"])]),_:2},1024)):b("",!0),a&&a.loanbyStatus?(s(),h(u,{key:3,cols:"12",md:"3"},{default:e(()=>[t(S,{style:{"min-height":"210px"},title:a.loanbyStatus.title,"with-count":""},{table:e(()=>[t(C,{density:"compact"},{default:e(()=>[o("tbody",null,[(s(!0),m(v,null,g(a.loanbyStatus.table,(i,f)=>(s(),m("tr",{key:f},[o("td",null,r(i.title),1),o("td",tt,r(i.value),1)]))),128)),o("tr",null,[n[7]||(n[7]=o("td",null,"Jumlah",-1)),o("td",et,r(d.getTotalValue(a.loanbyStatus.table)),1)])])]),_:2},1024)]),default:e(()=>[t(k,{type:"donut",options:{...a.loanbyStatus.chartOptions,tooltip:{y:{formatter:function(i){return d.formatToCustomPattern(i)}}}},series:a.loanbyStatus.series},null,8,["options","series"])]),_:2},1032,["title"])]),_:2},1024)):b("",!0)]),_:2},1024)]),_:2},1024)]),_:1},8,["onInitialized"])],64)}const ot=z(X,[["render",at]]);export{ot as default};
