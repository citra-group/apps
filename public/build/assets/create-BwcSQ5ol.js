import{_ as h,o,j as V,e as t,w as l,n as m,y as b,m as i,b as f,h as _,g as v,V as y,F as x,d as j,E as g,q as A,M as C,I as D,U as P,K as B,C as N,bk as F,bj as R,s as E}from"./App-CdcRqZFE.js";const I={name:"infrastructure-tax-create-asset",props:["record","data","combos","store"],methods:{changeUnit:function(d,a,e){d.assetable_type_slug!=null&&this.changeAssetType(d,a,e)},changeAssetType:function(d,a,e){d.asset_id=void 0,this.$http(`infrastructure/api/ref-asset/${d.unit_id}/${d.assetable_type_slug}/asset`).then(r=>{e.combos.assets=r})}}},J={key:1};function M(d,a,e,r,U,c){return o(),V(x,null,[t(i,{dense:""},{default:l(()=>[t(m,{cols:"12"},{default:l(()=>[t(b,{items:e.combos.units,"return-object":!1,"item-value":"id","item-title":"name",modelValue:e.record.unit_id,"onUpdate:modelValue":[a[0]||(a[0]=s=>e.record.unit_id=s),a[1]||(a[1]=s=>c.changeUnit(e.record,e.data,e.store))],label:"Untuk "+e.record.targetable_type_slug+" Dari Unit"},null,8,["items","modelValue","label"])]),_:1})]),_:1}),e.record.unit_id!=null?(o(),f(i,{key:0,dense:""},{default:l(()=>[t(m,{cols:"12"},{default:l(()=>[t(b,{items:e.combos.asset_types,"item-value":"slug","item-title":"name","return-object":!1,modelValue:e.record.assetable_type_slug,"onUpdate:modelValue":[a[2]||(a[2]=s=>e.record.assetable_type_slug=s),a[3]||(a[3]=s=>c.changeAssetType(e.record,e.data,e.store))],label:"Pilih Jenis Asset"},null,8,["items","modelValue"])]),_:1})]),_:1})):_("",!0),e.record.assetable_type_slug!=null&&e.combos.assets!=null?(o(),V("div",J,[e.combos.assets.length>0?(o(),f(i,{key:0,dense:""},{default:l(()=>[t(m,{cols:"12"},{default:l(()=>[t(b,{"return-object":!1,items:e.combos.assets,"item-value":"id","item-title":"name",modelValue:e.record.asset_id,"onUpdate:modelValue":a[4]||(a[4]=s=>e.record.asset_id=s),label:"Pilih Asset"},null,8,["items","modelValue"])]),_:1})]),_:1})):_("",!0),e.combos.assets.length==0?(o(),f(i,{key:1,dense:""},{default:l(()=>[t(y,{class:"mt-2",color:"teal-darken-4",block:"",variant:"flat",disabled:d.disabled},{default:l(()=>a[5]||(a[5]=[v("Tidak Ditemukan Asset Manapun")])),_:1},8,["color","disabled"])]),_:1})):_("",!0)])):_("",!0)],64)}const S=h(I,[["render",M]]),W={name:"infrastructure-tax-create-document",data(){},props:["record","data","combos","store"],methods:{changeUnit:function(d,a,e){d.assetable_type_slug=void 0,d.assetable_type_slug!=null&&this.changeAssetType(d,a,e)},changeDocumentWithAsset:function(d,a,e){d.assetable_type_slug=void 0,d.is_document_with_asset=="tidak"&&this.$http(`infrastructure/api/ref-asset/${d.unit_id}/${d.assetable_type_slug}/asset`).then(r=>{e.combos.assets=r})},changeAssetType:function(d,a,e){d.asset_id=void 0,this.$http(`infrastructure/api/ref-asset/${d.unit_id}/${d.assetable_type_slug}/asset`).then(r=>{e.combos.assets=r})},changeAsset:function(d,a,e){d.document_id=void 0,this.$http(`infrastructure/api/ref-document/${d.unit_id}/${d.asset_id}/documents`).then(r=>{e.combos.documents=r})}}},q={key:0},H={key:1},K={key:2},z={key:1};function G(d,a,e,r,U,c){return o(),V(x,null,[t(i,{dense:""},{default:l(()=>[t(m,{cols:"12"},{default:l(()=>[t(b,{items:e.combos.units,"return-object":!1,"item-value":"id","item-title":"name",modelValue:e.record.unit_id,"onUpdate:modelValue":[a[0]||(a[0]=s=>e.record.unit_id=s),a[1]||(a[1]=s=>c.changeUnit(e.record,e.data,e.store))],label:"Untuk "+e.record.targetable_type_slug+" Dari Unit"},null,8,["items","modelValue","label"])]),_:1})]),_:1}),t(i,{dense:""},{default:l(()=>[t(m,{cols:"12"},{default:l(()=>[t(b,{items:["tidak","iya"],modelValue:e.record.is_document_with_asset,"onUpdate:modelValue":[a[2]||(a[2]=s=>e.record.is_document_with_asset=s),a[3]||(a[3]=s=>c.changeDocumentWithAsset(e.record,e.data,e.store))],label:"Apakah document terhubung dengan asset.."},null,8,["modelValue"])]),_:1})]),_:1}),e.record.is_document_with_asset=="iya"?(o(),V("div",q,[e.record.unit_id!=null?(o(),f(i,{key:0,dense:""},{default:l(()=>[t(m,{cols:"12"},{default:l(()=>[t(b,{items:e.combos.asset_types,"item-value":"slug","item-title":"name","return-object":!1,modelValue:e.record.assetable_type_slug,"onUpdate:modelValue":[a[4]||(a[4]=s=>e.record.assetable_type_slug=s),a[5]||(a[5]=s=>c.changeAssetType(e.record,e.data,e.store))],label:"Pilih Jenis Asset"},null,8,["items","modelValue"])]),_:1})]),_:1})):_("",!0),e.record.assetable_type_slug!=null&&e.combos.assets!=null?(o(),V("div",H,[e.combos.assets.length>0?(o(),f(i,{key:0,dense:""},{default:l(()=>[t(m,{cols:"12"},{default:l(()=>[t(b,{"return-object":!1,items:e.combos.assets,"item-value":"id","item-title":"name",modelValue:e.record.asset_id,"onUpdate:modelValue":[a[6]||(a[6]=s=>e.record.asset_id=s),a[7]||(a[7]=s=>c.changeAsset(e.record,e.data,e.store))],label:"Pilih Asset"},null,8,["items","modelValue"])]),_:1})]),_:1})):_("",!0),e.combos.assets.length==0?(o(),f(i,{key:1,dense:""},{default:l(()=>[t(y,{class:"mt-2",color:"teal-darken-4",block:"",variant:"flat",disabled:d.disabled},{default:l(()=>a[9]||(a[9]=[v("Tidak Ditemukan Asset Apapun")])),_:1},8,["color","disabled"])]),_:1})):_("",!0)])):_("",!0),e.record.asset_id!=null&&e.combos.documents!=null?(o(),V("div",K,[e.combos.documents.length>0?(o(),f(i,{key:0,dense:""},{default:l(()=>[t(m,{cols:"12"},{default:l(()=>[t(b,{"return-object":!1,items:e.combos.documents,"item-value":"id","item-title":"name",modelValue:e.record.document_id,"onUpdate:modelValue":a[8]||(a[8]=s=>e.record.document_id=s),label:"Pilih Document"},null,8,["items","modelValue"])]),_:1})]),_:1})):_("",!0),e.combos.documents.length==0?(o(),f(i,{key:1,dense:""},{default:l(()=>[t(y,{class:"mt-2",color:"teal-darken-4",block:"",variant:"flat",disabled:d.disabled},{default:l(()=>a[10]||(a[10]=[v("Tidak Ditemukan Document Apapun")])),_:1},8,["color","disabled"])]),_:1})):_("",!0)])):_("",!0)])):_("",!0),e.record.is_document_with_asset=="tidak"?(o(),V("div",z)):_("",!0)],64)}const L=h(W,[["render",G]]),O={name:"infrastructure-record-create",components:{Asset:S,Document:L},data(){return{}},methods:{changeTargetType:function(d,a,e){d.assetable_type_slug=void 0,d.unit_id=void 0,d.document_id=void 0,d.asset_id=void 0,d.is_document_with_asset=void 0}}};function Q(d,a,e,r,U,c){const s=j("form-create");return o(),f(s,{"with-helpdesk":""},{default:l(({combos:{units:X,documents:Y,assets:Z,target_types:w},record:n,store:k})=>[t(E,null,{default:l(()=>[t(i,{dense:""},{default:l(()=>[t(m,{cols:"12"},{default:l(()=>[t(g,{label:"Name",modelValue:n.name,"onUpdate:modelValue":u=>n.name=u},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),t(i,{dense:""},{default:l(()=>[t(m,{cols:"12"},{default:l(()=>[t(g,{label:"Deskripsi",modelValue:n.description,"onUpdate:modelValue":u=>n.description=u},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),t(i,{class:"mt-6",style:{display:"flex","align-items":"center","justify-content":"space-between"},dense:""},{default:l(()=>[t(m,{cols:"6"},{default:l(()=>a[0]||(a[0]=[A("div",{class:"text-overline"},"Deadline Record",-1)])),_:1}),t(C,{modelValue:n.duedate_active,"onUpdate:modelValue":u=>n.duedate_active=u,"hide-details":"","hide-label":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(D,{thickness:3,class:"mt-3 mb-6"}),t(P,null,{activator:l(({props:u})=>[t(i,{style:{display:"flex","align-items":"center",gap:"20px"},dense:""},{default:l(()=>[t(g,{label:"Tanggal",value:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"2-digit"}).format(n.duedate),readonly:!0,disabled:n.duedate_active==!1||n.duedate_active==null,"persistent-placeholder":""},null,8,["value","disabled"]),t(y,B(u,{color:"surface-variant",text:"Pilih Tanggal",disabled:n.duedate_active==!1||n.duedate_active==null,variant:"flat"}),null,16,["disabled"])]),_:2},1024)]),default:l(({isActive:u})=>[t(N,null,{default:l(()=>[a[1]||(a[1]=v("r ")),t(i,{dense:""},{default:l(()=>[t(m,{cols:"12"},{default:l(()=>[t(F,{style:{width:"100%"},disabled:n.duedate_active==!1,"onUpdate:modelValue":T=>{console.log(T)}},null,8,["disabled","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),t(y,{text:"Close",color:"surface-variant",onClick:T=>u.value=!1},null,8,["onClick"])]),_:2},1024)]),_:2},1024),t(i,{dense:""},{default:l(()=>[t(m,{cols:"4"},{default:l(()=>[t(g,{modelValue:n.period_number_day,"onUpdate:modelValue":u=>n.period_number_day=u,label:"Periode Hari",type:"number",min:"0",outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(m,{cols:"4"},{default:l(()=>[t(g,{modelValue:n.period_number_month,"onUpdate:modelValue":u=>n.period_number_month=u,label:"Periode Bulan",type:"number",min:"0",outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(m,{cols:"4"},{default:l(()=>[t(g,{modelValue:n.period_number_year,"onUpdate:modelValue":u=>n.period_number_year=u,label:"Periode Tahun",type:"number",min:"0",outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),a[2]||(a[2]=A("div",{class:"text-overline mt-6"},"Tujuan Record",-1)),t(D,{thickness:3,class:"mt-3 mb-6"}),t(i,{dense:""},{default:l(()=>[t(m,{cols:"12"},{default:l(()=>[t(b,{items:w,"item-value":"slug","item-title":"name","return-object":!1,label:"Record Untuk",modelValue:n.targetable_type_slug,"onUpdate:modelValue":[u=>n.targetable_type_slug=u,u=>c.changeTargetType(n,this,k)]},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),(o(),f(R(n.targetable_type_slug),{combos:k.combos,store:k,record:n,data:this},null,8,["combos","store","record"]))]),_:2},1024)]),_:1})}const $=h(O,[["render",Q]]);export{$ as default};
