import{_ as x,b as g,w as a,e,V as v,g as n,E as I,d as b,l as u,$ as U,p as r,I as w,i as C,m as f,B as k,C as y,R as N,P as A,W as B,j as F,k as P,F as R,o as V,Y as S,n as D}from"./App-Da-KJahm.js";import{V as E,a as T}from"./VExpansionPanels-C2j2e7lE.js";const L={name:"reservation-field-edit",data(){return{expand:!1,images:[],newImages:[]}},methods:{toggleImagePanel(d){this.images=Array.isArray(d.images)?[...d.images]:[],this.expand=!0},handleImageUpload(d){d&&Array.from(d).forEach(s=>{const p=new FileReader;p.onload=c=>{this.images.push(c.target.result)},p.readAsDataURL(s)})},saveImage(d){d.images=[...this.images],this.expand=!1,this.newImages=[]},removeImage(d){this.images.splice(d,1)}}},H={class:"text-end"};function j(d,s,p,c,o,i){const m=b("v-currency-field"),h=b("form-edit");return V(),g(h,{"with-helpdesk":""},{default:a(({record:l})=>[e(u,null,{default:a(()=>[e(v,{dense:""},{default:a(()=>[e(n,{cols:"12"},{default:a(()=>[e(I,{label:"Nama Aula",modelValue:l.name,"onUpdate:modelValue":t=>l.name=t,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(n,{cols:"12",md:"6"},{default:a(()=>[e(m,{label:"Kapasitas",suffix:"/ orang",modelValue:l.capacity,"onUpdate:modelValue":t=>l.capacity=t,"model-value":Number(l.capacity),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024),e(n,{cols:"12",md:"6"},{default:a(()=>[e(m,{label:"Sector Lapangan",suffix:"/ bagian",modelValue:l.sector,"onUpdate:modelValue":t=>l.sector=t,"model-value":Number(l.sector),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024),e(n,{cols:"12"},{default:a(()=>[e(m,{label:"Harga Sewa",prefix:"Rp",modelValue:l.price,"onUpdate:modelValue":t=>l.price=t,"model-value":Number(l.price),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024),e(n,{cols:"12"},{default:a(()=>[e(m,{label:"Harga Dasar",prefix:"Rp",modelValue:l.basic,"onUpdate:modelValue":t=>l.basic=t,"model-value":Number(l.basic),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(w,{class:"my-4"},{default:a(()=>[e(U,{class:"text-uppercase"},{default:a(()=>s[1]||(s[1]=[r("Detail Image")])),_:1,__:[1]})]),_:1}),e(u,null,{default:a(()=>[C("div",H,[e(f,{flat:"",color:"primary",class:"ma-2",onClick:t=>i.toggleImagePanel(l),disabled:o.expand,"hide-details":""},{default:a(()=>s[2]||(s[2]=[r(" Tambah Foto ")])),_:2,__:[2]},1032,["onClick","disabled"])])]),_:2},1024),e(u,null,{default:a(()=>[k(e(E,{flat:""},{default:a(()=>[e(T,null,{default:a(()=>[e(u,null,{default:a(()=>[e(N,{variant:"underlined",modelValue:o.newImages,"onUpdate:modelValue":[s[0]||(s[0]=t=>o.newImages=t),i.handleImageUpload],accept:"image/*",label:"Pilih Gambar","prepend-icon":"add_a_photo",multiple:"","show-size":"","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(A,null,{default:a(()=>[e(B),e(f,{color:"primary",onClick:t=>i.saveImage(l)},{default:a(()=>s[3]||(s[3]=[r(" Simpan ")])),_:2,__:[3]},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1536),[[y,o.expand]])]),_:2},1024),e(u,null,{default:a(()=>[e(v,null,{default:a(()=>[(V(!0),F(R,null,P(o.images,(t,_)=>(V(),g(n,{key:_,cols:"12",sm:"4",md:"3"},{default:a(()=>[e(S,{src:t,"aspect-ratio":"1",rounded:"lg",cover:""},null,8,["src"]),e(f,{small:"",icon:"",variant:"tonal",color:"red",class:"mt-1",onClick:z=>i.removeImage(_)},{default:a(()=>[e(D,null,{default:a(()=>s[4]||(s[4]=[r("delete")])),_:1,__:[4]})]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}const W=x(L,[["render",j]]);export{W as default};
