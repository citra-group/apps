import{_ as I,b as g,w as a,e,V as _,g as n,E as w,d as v,l as m,i as x,m as r,p,B as U,C as b,R as k,P as C,W as y,j as N,k as R,F as A,o as f,Y as B,n as E}from"./App-Da-KJahm.js";import{V as F,a as S}from"./VExpansionPanels-C2j2e7lE.js";const D={name:"reservation-house-edit",data:()=>({expand:!1,images:[],newImages:[]}),methods:{togleImage(l){this.images=Array.isArray(l.images)?[...l.images]:[],this.expand=!0},handleImageUpload(l){l&&Array.from(l).forEach(d=>{const u=new FileReader;u.onload=V=>{this.images.push(V.target.result)},u.readAsDataURL(d)})},saveImage(l){l.images=[...this.images],this.expand=!1,this.newImages=[]},removeImage(l){this.images.splice(l,1)}}},P={class:"text-end"};function T(l,d,u,V,$,o){const i=v("v-currency-field"),h=v("form-edit");return f(),g(h,{"with-helpdesk":""},{default:a(({record:t})=>[e(m,null,{default:a(()=>[e(_,{dense:""},{default:a(()=>[e(n,{cols:"12"},{default:a(()=>[e(w,{label:"Nama Rumah / Vila",modelValue:t.name,"onUpdate:modelValue":s=>t.name=s,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(n,{cols:"12",md:"6"},{default:a(()=>[e(i,{label:"Kapasitas",suffix:"/orang",modelValue:t.capacity,"onUpdate:modelValue":s=>t.capacity=s,"model-value":Number(t.capacity),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024),e(n,{cols:"12"},{default:a(()=>[e(i,{label:"Harga Sewa",prefix:"Rp",modelValue:t.price,"onUpdate:modelValue":s=>t.price=s,"model-value":Number(t.price),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024),e(n,{cols:"12"},{default:a(()=>[e(i,{label:"Harga Dasar",prefix:"Rp",modelValue:t.basic,"onUpdate:modelValue":s=>t.basic=s,"model-value":Number(t.basic),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(m,null,{default:a(()=>[x("div",P,[e(r,{flat:"",color:"primary",onClick:s=>o.togleImage(t),"hide-details":""},{default:a(()=>d[1]||(d[1]=[p("AddNew Image")])),_:2,__:[1]},1032,["onClick"])])]),_:2},1024),e(m,null,{default:a(()=>[U(e(F,{flat:""},{default:a(()=>[e(S,null,{default:a(()=>[e(k,{label:"Image",modelValue:l.newImages,"onUpdate:modelValue":[d[0]||(d[0]=s=>l.newImages=s),o.handleImageUpload],accept:"image/*",multiple:"","show-size":"",dense:""},null,8,["modelValue","onUpdate:modelValue"]),e(C,null,{default:a(()=>[e(y),e(r,{color:"primary",variant:"tonal",onClick:s=>o.saveImage(t)},{default:a(()=>d[2]||(d[2]=[p("Simpan")])),_:2,__:[2]},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1536),[[b,l.expand]])]),_:2},1024),e(m,null,{default:a(()=>[e(_,null,{default:a(()=>[(f(!0),N(A,null,R(l.images,(s,c)=>(f(),g(n,{key:c,cols:"12",sm:"4",md:"3"},{default:a(()=>[e(B,{src:s,"aspect-ratio":"1",rounded:"lg",cover:""},null,8,["src"]),e(r,{small:"",icon:"",variant:"tonal",color:"red",class:"mt-1",onClick:H=>o.removeImage(c)},{default:a(()=>[e(E,null,{default:a(()=>d[3]||(d[3]=[p("delete")])),_:1,__:[3]})]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}const z=I(D,[["render",T]]);export{z as default};
