import{_ as U,b as f,w as u,d as x,o as _,e as t,m as p,n as i,E as g,y,q as r,I as h,bj as $,h as c,j as B,t as D,V as b,g as k,s as N}from"./App-DwYYa9UH.js";const w={name:"infrastructure-document-edit-land-certificate",props:["record"]};function L(l,s,n,o,d,m){return null}const P=U(w,[["render",L]]),j={name:"infrastructure-document-edit",components:{LandCertificate:P},data(){return{currentFormType:"",formType:["LandCertificate"],unit:{},asset:{},assets:void 0,assets_slugs:void 0,assets_slugs_combos:void 0,assets_types:void 0}},methods:{clearAssetOption:function(l,s){s.asset={},l.asset={}},initAssetTypes:function(l,s){s.assets_types||this.$http("infrastructure/api/ref-asset/type").then(n=>{s.assets_types=n})},checkRoute:function(l=""){let s=this.$router.currentRoute._value.name,n=["show","delete","update","edit","create"];for(let o of n)s=s.replaceAll("-"+o,"");return s==l},getAssetType:function(l,s,n){if(l.unit=s[l.unit.slug],l.asset={},n.asset={},n.assets_types&&l.asset.asset_type_key)return n.getAssetList(l,s,n);n.asset_list=void 0,n.assets_slugs=void 0,n.assets_slugs_combos=void 0,this.$http("infrastructure/api/ref-asset/type").then(o=>{n.assets_types=o})},getAssetList:function(l,s,n){l.asset={asset_type_key:l.asset.asset_type_key,slug_unit:l.asset.slug_unit},n.assets=void 0,n.assets_slugs=void 0,n.assets_slugs_combos=void 0,this.$http(`infrastructure/api/ref-asset/${s[l.unit.slug].id}/${l.asset.asset_type_key}/asset`).then(o=>{n.assets_slugs_combos=o.assets_slugs_combos,n.assets_slugs=o.assets_slugs,n.assets=o.assets})},getAsset:function(l,s){l.asset={...l.asset,...s.assets_slugs[l.asset.slug]}},selectType:function(l,s){s.currentFormType=l.documentable_type_key}}},F={key:2};function O(l,s,n,o,d,m){const v=x("form-edit");return _(),f(v,{"with-helpdesk":""},{default:u(({combos:{type_key:A,units:V,units_slug:T,type_status_map:R,status:C},record:e})=>[t(N,null,{default:u(()=>[t(p,{dense:""},{default:u(()=>[t(i,{cols:"12"},{default:u(()=>[t(g,{label:"Name",modelValue:e.name,"onUpdate:modelValue":a=>e.name=a},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(i,{cols:"12"},{default:u(()=>[t(g,{label:"Description",modelValue:e.description,"onUpdate:modelValue":a=>e.description=a},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(i,{cols:"12"},{default:u(()=>[t(y,{items:C,label:"Status",modelValue:e.status,"onUpdate:modelValue":a=>e.status=a,"return-object":!1},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),s[3]||(s[3]=r("div",{class:"text-overline mt-6"},"Form Document",-1)),t(h,{thickness:3,class:"mt-3 mb-10"}),t(p,{dense:""},{default:u(()=>[t(i,{cols:"12"},{default:u(()=>[t(y,{items:A,label:"Tipe Document",modelValue:e.documentable_type_key,"onUpdate:modelValue":a=>e.documentable_type_key=a,"return-object":!1,readonly:!0},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),(_(),f($(e.documentable_type_key),{record:e},null,8,["record"])),s[4]||(s[4]=r("div",{class:"text-overline mt-6"},"Terhubung Ke Unit",-1)),t(h,{thickness:3,class:"mt-3 mb-10"}),e.unit!=null?(_(),f(p,{key:0,dense:""},{default:u(()=>[t(i,{cols:"6"},{default:u(()=>[t(g,{label:"Nama Unit",modelValue:V[e.unit.slug].name,"onUpdate:modelValue":a=>V[e.unit.slug].name=a,readonly:!0},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(i,{cols:"6"},{default:u(()=>[t(y,{items:T,label:"Pilih Unit",modelValue:e.unit.slug,"onUpdate:modelValue":[a=>e.unit.slug=a,a=>m.getAssetType(e,V,this)]},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)):c("",!0),s[5]||(s[5]=r("div",{class:"text-overline mt-6"},"Terhubung Ke Asset (optional)",-1)),e.asset!=null&&e.unit.slug!=null?(_(),f(p,{key:1,dense:""},{default:u(()=>[t(i,{cols:"12"},{default:u(()=>[t(y,{items:d.assets_types,label:"Pilih Tipe Asset",modelValue:e.asset.asset_type_key,"onUpdate:modelValue":[a=>e.asset.asset_type_key=a,a=>m.getAssetList(e,V,this)]},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)):c("",!0),d.assets_types==null?(_(),B("div",F,D(m.initAssetTypes(e,this)),1)):c("",!0),e.asset!=null&&e.asset.asset_type_key!=null&&d.assets_slugs_combos!=null&&d.assets_slugs_combos.length>0?(_(),f(p,{key:3,dense:""},{default:u(()=>[t(i,{cols:"6"},{default:u(()=>[t(g,{label:"Nama Asset",modelValue:e.asset.name,"onUpdate:modelValue":a=>e.asset.name=a,readonly:!0},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(i,{cols:"6"},{default:u(()=>[t(y,{items:d.assets_slugs_combos,label:"Pilih Asset Slug",modelValue:e.asset.slug,"onUpdate:modelValue":[a=>e.asset.slug=a,a=>m.getAsset(e,this)]},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024),t(b,{class:"mt-2",color:"teal-darken-4",block:"",variant:"flat",onClick:a=>m.clearAssetOption(e,this)},{default:u(()=>s[0]||(s[0]=[k("Bersihkan Pilihan Asset")])),_:2},1032,["color","onClick"])]),_:2},1024)):c("",!0),e.asset!=null&&e.asset.asset_type_key!=null&&d.assets_slugs_combos!=null&&d.assets_slugs_combos.length<=0?(_(),f(p,{key:4,dense:""},{default:u(()=>[t(b,{class:"mt-2",color:"teal-darken-4",block:"",variant:"flat",disabled:!0},{default:u(()=>s[1]||(s[1]=[k("Tidak Ditemukan")])),_:1}),t(b,{class:"mt-2",color:"teal-darken-4",block:"",variant:"flat",onClick:a=>m.clearAssetOption(e,this)},{default:u(()=>s[2]||(s[2]=[k("Bersihkan Pilihan Asset")])),_:2},1032,["color","onClick"])]),_:2},1024)):c("",!0)]),_:2},1024)]),_:1})}const E=U(j,[["render",O]]);export{E as default};
