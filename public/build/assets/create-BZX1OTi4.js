import{_ as k,b as c,w as a,e,V as I,g as i,E as C,d as v,l as u,$ as U,p as o,I as x,i as w,m as r,B as y,C as D,R as A,P as b,W as B,j as N,k as F,F as P,Q as R,D as S,o as f,Y as E,n as T}from"./App-Da-KJahm.js";import{V as j,a as H}from"./VExpansionPanels-C2j2e7lE.js";const L={name:"venue-hall-create",data(){return{expand:!1,images:[],dialogImage:!1,selectedImageIndex:null,newImages:[]}},methods:{toggleImagePanel(d){this.images=Array.isArray(d.images)?[...d.images]:[],this.expand=!0},handleImageUpload(d){d&&Array.from(d).forEach(l=>{const p=new FileReader;p.onload=V=>{this.images.push(V.target.result)},p.readAsDataURL(l)})},saveImage(d){d.images=[...this.images],this.expand=!1,this.newImages=[]},removeImage(){this.selectedImageIndex!==null&&(this.images.splice(this.selectedImageIndex,1),this.dialogImage=!1,this.selectedImageIndex=null),this.newImages=[]},openDeleteDialog(d){this.selectedImageIndex=d,this.dialogImage=!0}}},z={class:"text-end"};function G(d,l,p,V,n,m){const g=v("v-currency-field"),h=v("form-create");return f(),c(h,{"with-helpdesk":""},{default:a(({record:s})=>[e(u,null,{default:a(()=>[e(I,{dense:""},{default:a(()=>[e(i,{cols:"12"},{default:a(()=>[e(C,{label:"Nama Aula",modelValue:s.name,"onUpdate:modelValue":t=>s.name=t,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(i,{cols:"12",md:"6"},{default:a(()=>[e(g,{label:"Kapasitas",suffix:"/ Orang",modelValue:s.capacity,"onUpdate:modelValue":t=>s.capacity=t,"model-value":Number(s.capacity),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024),e(i,{cols:"12"},{default:a(()=>[e(g,{label:"Sector Aula",suffix:"/ Bagian",modelValue:s.sector,"onUpdate:modelValue":t=>s.sector=t,"model-value":Number(s.sector),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024),e(i,{cols:"12"},{default:a(()=>[e(g,{label:"Harga Sewa",prefix:"Rp",modelValue:s.price,"onUpdate:modelValue":t=>s.price=t,"model-value":Number(s.price),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024),e(i,{cols:"12"},{default:a(()=>[e(g,{label:"Harga Dasar",prefix:"Rp",modelValue:s.basic,"onUpdate:modelValue":t=>s.basic=t,"model-value":Number(s.basic),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(x,{class:"my-4"},{default:a(()=>[e(U,{class:"text-uppercase"},{default:a(()=>l[3]||(l[3]=[o("Details Image")])),_:1,__:[3]})]),_:1}),e(u,null,{default:a(()=>[w("div",z,[e(r,{flat:"",color:"primary",class:"ma-2",onClick:t=>m.toggleImagePanel(s),disabled:n.expand,"hide-details":""},{default:a(()=>l[4]||(l[4]=[o(" Tambah Foto ")])),_:2,__:[4]},1032,["onClick","disabled"])])]),_:2},1024),e(u,null,{default:a(()=>[y(e(j,{flat:""},{default:a(()=>[e(H,null,{default:a(()=>[e(u,null,{default:a(()=>[e(A,{variant:"underlined",modelValue:n.newImages,"onUpdate:modelValue":[l[0]||(l[0]=t=>n.newImages=t),m.handleImageUpload],accept:"image/*",label:"Pilih Gambar","prepend-icon":"add_a_photo",multiple:"","show-size":"","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(b,null,{default:a(()=>[e(B),e(r,{color:"primary",onClick:t=>m.saveImage(s)},{default:a(()=>l[5]||(l[5]=[o(" Simpan ")])),_:2,__:[5]},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1536),[[D,n.expand]])]),_:2},1024),e(u,null,{default:a(()=>[e(I,null,{default:a(()=>[(f(!0),N(P,null,F(n.images,(t,_)=>(f(),c(i,{key:_,cols:"12",sm:"4",md:"3"},{default:a(()=>[e(E,{src:t,"aspect-ratio":"1",rounded:"lg",cover:""},null,8,["src"]),e(r,{small:"",icon:"",variant:"tonal",color:"red",class:"mt-1",onClick:K=>m.openDeleteDialog(_)},{default:a(()=>[e(T,null,{default:a(()=>l[6]||(l[6]=[o("delete")])),_:1,__:[6]})]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),e(R,{modelValue:n.dialogImage,"onUpdate:modelValue":l[2]||(l[2]=t=>n.dialogImage=t),transition:"dialog-bottom-transition",width:"auto"},{default:a(()=>[e(S,null,{default:a(()=>[e(u,null,{default:a(()=>l[7]||(l[7]=[o(" Apakah Anda yakin ingin menghapus gambar ini?")])),_:1,__:[7]}),e(x,{class:"mb-4"}),e(b,{class:"justify-end"},{default:a(()=>[e(r,{variant:"text",onClick:l[1]||(l[1]=t=>n.dialogImage=!1)},{default:a(()=>l[8]||(l[8]=[o("Batal")])),_:1,__:[8]}),e(r,{color:"red",variant:"text",onClick:m.removeImage},{default:a(()=>l[9]||(l[9]=[o("Delete")])),_:1,__:[9]},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const W=k(L,[["render",G]]);export{W as default};
