import{_ as N,b as r,w as a,d as k,o as i,e as t,m as _,n as d,E as g,I as v,h as m,j as S,k as x,F as I,s as b,S as X,q as p,V as h,g as s,T as w,f as U,U as F,D as R,l as Z,L as $,t as f,J as j}from"./App-C5mXtzOE.js";import{V as T}from"./VBanner-CmcAd5y3.js";const L={name:"coperative-payment-show",computed:{getEndDate(){var o=new Date(this.date.getFullYear(),this.date.getMonth(),this.date.getDate()+1);return o.toISOString().slice(0,10)}},data:()=>({date:new Date,menuTerima:!1,formatter:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}),showReject:!1}),methods:{dateFormated(o){if(!o)return null;const[e,y,V]=o.split("-");return`${V}-${y}-${e}`},sendAcception(o,e){e.$http(`coperative/api/payment/${o.id}/approve`,{method:"PUT",params:o}).then(()=>{e.snackbar.color="green",e.snackbar.text="Berhasil",e.snackbar.state=!0,this.$router.push({name:"coperative-payment"})})},openReject(){this.showReject=!0},sendReject(o,e){e.$http(`coperative/api/payment/${o.id}/reject`,{method:"PUT",params:o}).then(()=>{e.snackbar.color="green",e.snackbar.text="Berhasil",e.snackbar.state=!0,this.$router.push({name:"coperative-payment"})})}}};function K(o,e,y,V,z,B){const A=k("v-currency-field"),C=k("v-date-input"),D=k("form-show");return i(),r(D,{"with-helpdesk":"","hide-edit":"","hide-delete":""},{default:a(({record:l,store:c,theme:u})=>[t(b,null,{default:a(()=>[t(_,{dense:""},{default:a(()=>[t(d,{cols:"8"},{default:a(()=>[t(g,{label:"Name",modelValue:l.name,"onUpdate:modelValue":n=>l.name=n,dense:"","hide-details":"",variant:"plain",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(v),t(d,{cols:"6"},{default:a(()=>[t(g,{color:`${u} thin`,class:"mt-2",label:"Nomor",modelValue:l.slug,"onUpdate:modelValue":n=>l.slug=n,dense:"","hide-details":"",variant:"outlined",readonly:""},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024),t(d,{cols:"6"},{default:a(()=>[t(A,{color:u,class:"mt-2",label:"Total",modelValue:l.grandtotal,"onUpdate:modelValue":n=>l.grandtotal=n,dense:"","hide-details":"",variant:"outlined",readonly:""},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024),l.paymentmode==="BANK"?(i(),r(d,{key:0,cols:"12",md:"6"},{default:a(()=>[t(C,{color:u,modelValue:l.paid_at,"onUpdate:modelValue":n=>l.paid_at=n,label:"Tanggal Terima","prepend-icon":"","prepend-inner-icon":"$calendar",variant:"outlined"},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024)):m("",!0),(i(!0),S(I,null,x(l.details,n=>(i(),r(R,{key:n.id,class:"mb-4 w-100",flat:""},{default:a(()=>[t(Z,{lines:"three",style:{padding:"0%"}},{default:a(()=>[t($,{class:"px-2 py-2"},{default:a(()=>[s(f(n.name),1)]),_:2},1024),t(v),t($,{class:j([`bg-${u}-lighten-5`,"py-4 px-2"])},{default:a(()=>[t(_,null,{default:a(()=>[t(d,{cols:"4"},{default:a(()=>[e[0]||(e[0]=p("div",{class:"pt-2"},"Tenor",-1)),s(" "+f(n.tenor)+"/ "+f(n.tenor_total),1)]),_:2},1024),t(d,{cols:"4"},{default:a(()=>[e[1]||(e[1]=p("div",{class:"pt-2"},"Total",-1)),s(" "+f(o.formatter.format(n.grandtotal)),1)]),_:2},1024),t(d,{cols:"4"},{default:a(()=>[e[2]||(e[2]=p("div",{class:"pt-2"},"Jatuh Tempo",-1)),s(" "+f(n.duedate),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024))),128)),t(b,{class:"d-flex"},{default:a(()=>[t(X),p("div",null,[l.status!=="SUDAH LUNAS"?(i(),r(h,{key:0,disabled:!l.paid_at&&l.paymentmode==="BANK",variant:"flat",color:u,onClick:n=>B.sendAcception(l,c)},{default:a(()=>e[3]||(e[3]=[s("Terima ")])),_:2},1032,["disabled","color","onClick"])):m("",!0)])]),_:2},1024),l.paymode==="CASH"?(i(),r(d,{key:1,cols:"12"},{default:a(()=>[t(T,{"two-line":""},{default:a(()=>[t(w,{color:"deep-purple accent-4",size:"40"},{default:a(()=>[t(U,{color:"white"},{default:a(()=>e[4]||(e[4]=[s("privacy_tip")])),_:1})]),_:1}),e[5]||(e[5]=s(" Untuk melakukan pembayaran silahkan datang ke kantor pusat. "))]),_:1})]),_:1})):m("",!0),l.paymode==="BANK"?(i(),r(d,{key:2,cols:"12"},{default:a(()=>[t(T,{"two-line":""},{default:a(()=>[t(w,{color:"deep-purple accent-4",size:"40"},{default:a(()=>[t(U,{color:"white"},{default:a(()=>e[6]||(e[6]=[s("privacy_tip")])),_:1})]),_:1}),e[7]||(e[7]=s(" Pembayaran dapat dilakukan dengan cara transfer ke ")),e[8]||(e[8]=p("ul",null,[p("li",null,"Bank BCA dengan nomor rekening XXXXXXXX"),p("li",null," Bank Mandiri dengan nomor rekening ZZZZZZZ ")],-1)),e[9]||(e[9]=s(" Setelah transfer dilakukan, silahkan unggah bukti bayar dibawah ini. "))]),_:1})]),_:1})):m("",!0),l.paymode==="BANK"&&l.transfer_path?(i(),r(d,{key:3,cols:"12"},{default:a(()=>[t(F,{src:l.transfer_path},null,8,["src"])]),_:2},1024)):m("",!0)]),_:2},1024)]),_:2},1024)]),info:a(({record:l,store:c,theme:u})=>[l.status==="SUDAH LUNAS"?(i(),r(h,{key:0,class:"mt-2",color:u,block:"",onClick:n=>o.downloadReceipt(l,c)},{default:a(()=>e[10]||(e[10]=[s("Unduh Tanda Terima")])),_:2},1032,["color","onClick"])):m("",!0)]),_:1})}const P=N(L,[["render",K]]);export{P as default};
