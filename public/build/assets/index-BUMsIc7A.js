import{a1 as L,bt as O,bs as j,bE as N,_ as z,j as d,e as t,w as e,i as o,N as D,X as F,n as P,p as b,l as V,V as I,g as u,G,m as B,bF as M,aI as W,d as w,b as h,f as _,h as T,F as v,k as g,t as r,s as A,q as U,o as s,u as E,v as R,x as q}from"./App-Y1uS_7oZ.js";import{V as H}from"./VBadge-Bch-MohZ.js";const J=L()({name:"VSlideGroupItem",props:O(),emits:{"group:selected":l=>!0},setup(l,i){let{slots:m}=i;const y=j(l,N);return()=>{var C;return(C=m.default)==null?void 0:C.call(m,{isSelected:y.isSelected.value,select:y.select,toggle:y.toggle,selectedClass:y.selectedClass.value})}}}),X={name:"mycoperative-dashboard",data:()=>({modelOverlay:!1,tenors:[],tenor:null,formatter:new Intl.NumberFormat("id-ID",{currency:"IDR",minimumFractionDigits:0})}),methods:{formatToCustomPattern(l){let i=l.toString().split(".")[0];return i=i.replace(/\B(?=(\d{3})+(?!\d))/g,"."),i},getTotalValue(l){return l.reduce((i,m)=>(i+=parseFloat(m.value),i),0)},getSisaValue(l){return!l||l.length===0?0:l.reduce((i,m,y)=>y===0?parseFloat(m.value):i-parseFloat(m.value),0)},openPayment(l){this.$router.push({name:"mycoperative-payment-show",params:{payment:l}})},openLoan(l){this.$router.push({name:"mycoperative-loan-show",params:{loan:l}})},getChipColor(l){switch(l){case"BELUM DIBAYAR":return"red";case"PUBLISH":return"primary"}},onInitialized:function({record:l}){this.tenors=l.tenors,l.hasMainDeposit||(this.modelOverlay=!0)},postDepositMain:function(){this.$http("mycoperative/api/set-main-deposit",{method:"POST",params:{tenor:parseInt(this.tenor)}}).then(()=>{this.modelOverlay=!1})}}},Y={class:"px-6"},K={class:"d-flex"},Q={class:"text-right"},Z={class:"text-right"},$={class:"text-right"},tt={class:"text-right"},et={style:{"text-align":"right"}};function at(l,i,m,y,C,p){const c=w("widget-number"),k=w("apexchart"),S=w("widget-card"),x=w("page-home");return s(),d(v,null,[t(M,{"model-value":l.modelOverlay,class:"align-center justify-center",persistent:""},{default:e(()=>[o("div",Y,[t(D,{class:"text-center",rounded:"lg"},{default:e(()=>[t(F,{class:"mt-4",color:"warning",size:"64"},{default:e(()=>[t(P,{size:"36"},{default:e(()=>i[1]||(i[1]=[b("lightbulb")])),_:1})]),_:1}),t(V,null,{default:e(()=>[i[2]||(i[2]=b(" Anda belum menentukan termin simpanan pokok. Silahkan pilih termin di bawah ini dan klik simpan. ")),t(I,{class:"mt-2"},{default:e(()=>[t(u,{cols:"12"},{default:e(()=>[t(G,{items:l.tenors,label:"Pilih Termin Simpanan Pokok",modelValue:l.tenor,"onUpdate:modelValue":i[0]||(i[0]=a=>l.tenor=a),"hide-details":""},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),t(V,{class:"pt-0"},{default:e(()=>[t(B,{disabled:l.tenor===null,block:"",onClick:p.postDepositMain},{default:e(()=>i[3]||(i[3]=[b("SIMPAN")])),_:1},8,["disabled","onClick"])]),_:1})]),_:1})])]),_:1},8,["model-value"]),t(x,{"page-name":"mycoperative-dashboard",onInitialized:p.onInitialized},{toolbar:e(({record:a})=>[a&&a.countUnreadNotification?(s(),h(B,{key:0,icon:""},{default:e(()=>[t(H,{color:"orange",content:a.countUnreadNotification,id:"menu-activator"},{default:e(()=>[t(P,null,{default:e(()=>i[4]||(i[4]=[b("notifications")])),_:1})]),_:2},1032,["content"])]),_:2},1024)):_("",!0),a&&a.processeLoan?(s(),h(U,{key:1,transition:"slide-x-transition",activator:"#menu-activator",width:"auto",rounded:"6"},{default:e(()=>[t(A,{density:"compact"},{default:e(()=>[(s(!0),d(v,null,g(a.processeLoan,(n,f)=>(s(),h(E,{key:n.id,value:f,onClick:lt=>p.openLoan(n.id),rounded:"xl",class:"mx-4"},{default:e(()=>[t(R,null,{default:e(()=>[t(P,{size:"small",class:"mr-4"},{default:e(()=>i[5]||(i[5]=[b("directory_sync")])),_:1}),b(r(n.slug)+" - "+r(n.name)+" - ",1),t(q,{size:"x-small",color:p.getChipColor(n.status)},{default:e(()=>[b(r(n.status),1)]),_:2},1032,["color"])]),_:2},1024)]),_:2},1032,["value","onClick"]))),128))]),_:2},1024)]),_:2},1024)):_("",!0)]),default:e(({record:a})=>[t(V,null,{default:e(()=>[t(W,null,{default:e(()=>[t(J,null,{default:e(()=>[o("div",K,[t(u,null,{default:e(()=>[t(c,{width:"250",title:"Simpanan Pokok","hide-icon":"",label:"Simpanan Pokok saat ini",icon:"account_balance_wallet",value:l.formatter.format(a.totalPokok)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250",title:"Simpanan Wajib","hide-icon":"",label:"Simpanan Wajib saat ini",icon:"account_balance_wallet",value:l.formatter.format(a.totalWajib)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250",title:"Total Pokok & Wajib","hide-icon":"",label:"Total Pokok & Wajib saat ini",icon:"account_balance_wallet",value:l.formatter.format(a.totalPokokWajib)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250",title:"Tabungan","hide-icon":"",label:"Total Tabungan",icon:"account_balance_wallet",value:l.formatter.format(a.totalTabungan)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250",title:"Penarikan","hide-icon":"",label:"Penarikan saat ini",icon:"account_balance_wallet",value:l.formatter.format(a.totalPenarikan)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250",title:"Saldo Tabungan","hide-icon":"",label:"Saldo Tabungan saat ini",icon:"account_balance_wallet",value:l.formatter.format(a.totalSaldoTabungan)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250",title:"Saldo Simpanan","hide-icon":"",label:"Saldo Simpanan saat ini",icon:"account_balance_wallet",value:l.formatter.format(a.totalSaldo)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250","hide-icon":"",title:"Tagihan",label:"Total Tagihan Saat Ini",icon:"payments",value:l.formatter.format(a.sisaPinjaman)},null,8,["value"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024),t(V,{style:{"margin-bottom":"35px"}},{default:e(()=>[t(I,null,{default:e(()=>[a&&a.depositByType?(s(),h(u,{key:0,cols:"12",md:"3"},{default:e(()=>[t(S,{style:{"min-height":"210px"},title:a.depositByType.title},{table:e(()=>[t(T,{density:"compact"},{default:e(()=>[o("tbody",null,[(s(!0),d(v,null,g(a.depositByType.table,(n,f)=>(s(),d("tr",{key:f},[o("td",null,r(n.title),1),o("td",Q,r(n.value),1)]))),128))])]),_:2},1024)]),default:e(()=>[t(k,{type:"donut",options:{...a.depositByType.chartOptions,tooltip:{y:{formatter:function(n){return p.formatToCustomPattern(n)}}}},series:a.depositByType.series},null,8,["options","series"])]),_:2},1032,["title"])]),_:2},1024)):_("",!0),a&&a.savingsBalance?(s(),h(u,{key:1,cols:"12",md:"3"},{default:e(()=>[t(S,{style:{"min-height":"210px"},title:a.savingsBalance.title},{table:e(()=>[t(T,{density:"compact"},{default:e(()=>[o("tbody",null,[(s(!0),d(v,null,g(a.savingsBalance.table,(n,f)=>(s(),d("tr",{key:f},[o("td",null,r(n.title),1),o("td",Z,r(n.value),1)]))),128))])]),_:2},1024)]),default:e(()=>[t(k,{type:"donut",options:{...a.savingsBalance.chartOptions,tooltip:{y:{formatter:function(n){return p.formatToCustomPattern(n)}}}},series:a.savingsBalance.series},null,8,["options","series"])]),_:2},1032,["title"])]),_:2},1024)):_("",!0),a&&a.loanvspayment?(s(),h(u,{key:2,cols:"12",md:"3"},{default:e(()=>[t(S,{style:{"min-height":"210px"},title:a.loanvspayment.title},{table:e(()=>[t(T,{density:"compact"},{default:e(()=>[o("tbody",null,[(s(!0),d(v,null,g(a.loanvspayment.table,(n,f)=>(s(),d("tr",{key:f},[o("td",null,r(n.title),1),o("td",$,r(n.value),1)]))),128))])]),_:2},1024)]),default:e(()=>[t(k,{type:"donut",options:{...a.loanvspayment.chartOptions,tooltip:{y:{formatter:function(n){return p.formatToCustomPattern(n)}}}},series:a.loanvspayment.series},null,8,["options","series"])]),_:2},1032,["title"])]),_:2},1024)):_("",!0),a&&a.loanbyStatus?(s(),h(u,{key:3,cols:"12",md:"3"},{default:e(()=>[t(S,{style:{"min-height":"210px"},title:a.loanbyStatus.title,"with-count":""},{table:e(()=>[t(T,{density:"compact"},{default:e(()=>[o("tbody",null,[(s(!0),d(v,null,g(a.loanbyStatus.table,(n,f)=>(s(),d("tr",{key:f},[o("td",null,r(n.title),1),o("td",tt,r(n.value),1)]))),128)),o("tr",null,[i[6]||(i[6]=o("td",null,"Jumlah",-1)),o("td",et,r(p.getTotalValue(a.loanbyStatus.table)),1)])])]),_:2},1024)]),default:e(()=>[t(k,{type:"donut",options:{...a.loanbyStatus.chartOptions,tooltip:{y:{formatter:function(n){return p.formatToCustomPattern(n)}}}},series:a.loanbyStatus.series},null,8,["options","series"])]),_:2},1032,["title"])]),_:2},1024)):_("",!0)]),_:2},1024)]),_:2},1024)]),_:1},8,["onInitialized"])],64)}const ot=z(X,[["render",at]]);export{ot as default};
