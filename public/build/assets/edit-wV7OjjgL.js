import{_ as b,b as g,w as a,e,V as v,g as o,E as x,G as y,d as h,l as i,$ as U,p as u,I as w,i as C,m as V,B as k,C as N,R as T,P as A,W as B,j as E,k as F,F as S,o as f,Y as D,n as P}from"./App-DxUS_QIK.js";import{V as G,a as R}from"./VExpansionPanels-D1_vKqWV.js";const L={name:"reservation-tent-edit",data(){return{expand:!1,images:[],newImages:[],items:["TENT","GLAMPING"]}},methods:{toggleImage(d){this.images=Array.isArray(d.images)?[...d.images]:[],this.expand=!0},handleImageUpload(d){d&&Array.from(d).forEach(s=>{const r=new FileReader;r.onload=_=>{this.images.push(_.target.result)},r.readAsDataURL(s)})},saveImage(d){d.images=[...this.images],this.expand=!1,this.newImages=[]},removeImage(d){this.images.splice(d,1),this.newImages=[]}}},H={class:"text-end"};function j(d,s,r,_,n,m){const p=h("v-currency-field"),I=h("form-edit");return f(),g(I,{"with-helpdesk":""},{default:a(({record:l})=>[e(i,null,{default:a(()=>[e(v,{dense:""},{default:a(()=>[e(o,{cols:"12"},{default:a(()=>[e(x,{label:"Name",modelValue:l.name,"onUpdate:modelValue":t=>l.name=t,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12"},{default:a(()=>[e(y,{label:"Type",items:n.items,modelValue:l.type,"onUpdate:modelValue":t=>l.type=t,"hide-details":""},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12"},{default:a(()=>[e(p,{label:"Kapasitas",suffix:"/ orang",modelValue:l.capacity,"onUpdate:modelValue":t=>l.capacity=t,"model-value":Number(l.capacity),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024),e(o,{cols:"12"},{default:a(()=>[e(p,{label:"Harga Sewa",modelValue:l.price,"onUpdate:modelValue":t=>l.price=t,"model-value":Number(l.price),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024),e(o,{cols:"12"},{default:a(()=>[e(p,{label:"Harga Dasar",modelValue:l.basic,"onUpdate:modelValue":t=>l.basic=t,"model-value":Number(l.basic),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(w,{class:"my-4"},{default:a(()=>[e(U,{class:"text-uppercase"},{default:a(()=>s[1]||(s[1]=[u("Details Image")])),_:1,__:[1]})]),_:1}),e(i,null,{default:a(()=>[C("div",H,[e(V,{flat:"",color:"primary",class:"ma-2",onClick:t=>m.toggleImage(l),disabled:n.expand,"hide-details":""},{default:a(()=>s[2]||(s[2]=[u(" Tambah Foto ")])),_:2,__:[2]},1032,["onClick","disabled"])])]),_:2},1024),e(i,null,{default:a(()=>[k(e(G,{flat:""},{default:a(()=>[e(R,null,{default:a(()=>[e(i,null,{default:a(()=>[e(T,{variant:"underlined",modelValue:n.newImages,"onUpdate:modelValue":[s[0]||(s[0]=t=>n.newImages=t),m.handleImageUpload],accept:"image/*",label:"Pilih Gambar","prepend-icon":"add_a_photo",multiple:"","show-size":"","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(A,null,{default:a(()=>[e(B),e(V,{color:"primary",onClick:t=>m.saveImage(l)},{default:a(()=>s[3]||(s[3]=[u(" Simpan ")])),_:2,__:[3]},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1536),[[N,n.expand]])]),_:2},1024),e(i,null,{default:a(()=>[e(v,null,{default:a(()=>[(f(!0),E(S,null,F(n.images,(t,c)=>(f(),g(o,{key:c,cols:"12",sm:"4",md:"3"},{default:a(()=>[e(D,{src:t,"aspect-ratio":"1",rounded:"lg",cover:""},null,8,["src"]),e(V,{small:"",icon:"",variant:"tonal",color:"red",class:"mt-1",onClick:z=>m.removeImage(c)},{default:a(()=>[e(P,null,{default:a(()=>s[4]||(s[4]=[u("delete")])),_:1,__:[4]})]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}const W=b(L,[["render",j]]);export{W as default};
