import{a2 as g,a1 as $,a5 as ne,a9 as U,e as n,b9 as M,m as k,aZ as se,bf as oe,bn as ie,am as p,bo as ue,ag as S,B as re,aW as de,bp as ce,X as me,n as te,bg as pe,an as ve,bq as X,L as H,ao as fe,br as _e,bs as Z,bt as be,bu as Ve,a$ as ke,bv as ye,bw as J,aD as he,bx as Se,by as ge,bz as xe,b6 as Pe,N as Q,F as we,I as w,_ as Ce,b,w as o,f as y,p as h,W as Ie,i as G,V as P,g as T,E as ee,d as K,Y as Te,l as $e,o as V}from"./App-Da-KJahm.js";import{V as Ue}from"./VTextarea-D2DFl51m.js";const j=Symbol.for("vuetify:v-stepper"),ae=g({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),Be=$()({name:"VStepperActions",props:ae(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,s){let{emit:t,slots:a}=s;const{t:d}=ne();function u(){t("click:prev")}function c(){t("click:next")}return U(()=>{const m={onClick:u},v={onClick:c};return n("div",{class:"v-stepper-actions"},[n(M,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:d(e.prevText),variant:"text"}}},{default:()=>{var i;return[((i=a.prev)==null?void 0:i.call(a,{props:m}))??n(k,m,null)]}}),n(M,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:d(e.nextText),variant:"tonal"}}},{default:()=>{var i;return[((i=a.next)==null?void 0:i.call(a,{props:v}))??n(k,v,null)]}})])}),{}}}),le=se("v-stepper-header"),We=g({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:S,default:"$complete"},editable:Boolean,editIcon:{type:S,default:"$edit"},error:Boolean,errorIcon:{type:S,default:"$error"},icon:S,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),De=g({...We(),...ue()},"VStepperItem"),N=$()({name:"VStepperItem",directives:{Ripple:oe},props:De(),emits:{"group:selected":e=>!0},setup(e,s){let{slots:t}=s;const a=ie(e,j,!0),d=p(()=>(a==null?void 0:a.value.value)??e.value),u=p(()=>e.rules.every(r=>r()===!0)),c=p(()=>!e.disabled&&e.editable),m=p(()=>!e.disabled&&e.editable),v=p(()=>e.error||!u.value),i=p(()=>e.complete||e.rules.length>0&&u.value),l=p(()=>v.value?e.errorIcon:i.value?e.completeIcon:a.isSelected.value&&e.editable?e.editIcon:e.icon),_=p(()=>({canEdit:m.value,hasError:v.value,hasCompleted:i.value,title:e.title,subtitle:e.subtitle,step:d.value,value:e.value}));return U(()=>{var C,I,D;const r=(!a||a.isSelected.value||i.value||m.value)&&!v.value&&!e.disabled,L=!!(e.title!=null||t.title),B=!!(e.subtitle!=null||t.subtitle);function W(){a==null||a.toggle()}return re(n("button",{class:["v-stepper-item",{"v-stepper-item--complete":i.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":v.value},a==null?void 0:a.selectedClass.value],disabled:!e.editable,type:"button",onClick:W},[c.value&&ce(!0,"v-stepper-item"),n(me,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:r?e.color:void 0,size:24},{default:()=>{var f;return[((f=t.icon)==null?void 0:f.call(t,_.value))??(l.value?n(te,{icon:l.value},null):d.value)]}}),n("div",{class:"v-stepper-item__content"},[L&&n("div",{key:"title",class:"v-stepper-item__title"},[((C=t.title)==null?void 0:C.call(t,_.value))??e.title]),B&&n("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((I=t.subtitle)==null?void 0:I.call(t,_.value))??e.subtitle]),(D=t.default)==null?void 0:D.call(t,_.value)])]),[[de("ripple"),e.ripple&&e.editable,null]])}),{}}}),Ae=g({...fe(_e(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),Re=$()({name:"VStepperWindow",props:Ae(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:t}=s;const a=pe(j,null),d=ve(e,"modelValue"),u=p({get(){var c;return d.value!=null||!a?d.value:(c=a.items.value.find(m=>a.selected.value.includes(m.id)))==null?void 0:c.value},set(c){d.value=c}});return U(()=>{const c=X.filterProps(e);return n(X,H({_as:"VStepperWindow"},c,{modelValue:u.value,"onUpdate:modelValue":m=>u.value=m,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),t)}),{}}}),Ne=g({...be()},"VStepperWindowItem"),Le=$()({name:"VStepperWindowItem",props:Ne(),setup(e,s){let{slots:t}=s;return U(()=>{const a=Z.filterProps(e);return n(Z,H({_as:"VStepperWindowItem"},a,{class:["v-stepper-window-item",e.class],style:e.style}),t)}),{}}}),Oe=g({altLabels:Boolean,bgColor:String,completeIcon:S,editIcon:S,editable:Boolean,errorIcon:S,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Pe()},"Stepper"),Ee=g({...Oe(),...xe({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...ge(),...Se(ae(),["prevText","nextText"])},"VStepper"),Fe=$()({name:"VStepper",props:Ee(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:t}=s;const{items:a,next:d,prev:u,selected:c}=Ve(e,j),{displayClasses:m,mobile:v}=ke(e),{completeIcon:i,editIcon:l,errorIcon:_,color:r,editable:L,prevText:B,nextText:W}=ye(e),C=p(()=>e.items.map((f,O)=>{const A=J(f,e.itemTitle,f),E=J(f,e.itemValue,O+1);return{title:A,value:E,raw:f}})),I=p(()=>a.value.findIndex(f=>c.value.includes(f.id))),D=p(()=>e.disabled?e.disabled:I.value===0?"prev":I.value===a.value.length-1?"next":!1);return he({VStepperItem:{editable:L,errorIcon:_,completeIcon:i,editIcon:l,prevText:B,nextText:W},VStepperActions:{color:r,disabled:D,prevText:B,nextText:W}}),U(()=>{const f=Q.filterProps(e),O=!!(t.header||e.items.length),A=e.items.length>0,E=!e.hideActions&&!!(A||t.actions);return n(Q,H(f,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":v.value},m.value,e.class],style:e.style}),{default:()=>{var z,Y;return[O&&n(le,{key:"stepper-header"},{default:()=>[C.value.map((x,R)=>{let{raw:F,...q}=x;return n(we,null,[!!R&&n(w,null,null),n(N,q,{default:t[`header-item.${q.value}`]??t.header,icon:t.icon,title:t.title,subtitle:t.subtitle})])})]}),A&&n(Re,{key:"stepper-window"},{default:()=>[C.value.map(x=>n(Le,{value:x.value},{default:()=>{var R,F;return((R=t[`item.${x.value}`])==null?void 0:R.call(t,x))??((F=t.item)==null?void 0:F.call(t,x))}}))]}),(z=t.default)==null?void 0:z.call(t,{prev:u,next:d}),E&&(((Y=t.actions)==null?void 0:Y.call(t,{next:d,prev:u}))??n(Be,{key:"stepper-actions","onClick:prev":u,"onClick:next":d},t))]}})}),{prev:u,next:d}}}),Ge={name:"infrastructure-record-note-show",methods:{redirectPage:function(e=""){const t=this.$router.currentRoute._value.name;let a=["show","create","delete","edit"],d=t;for(let c of a)d=d.replaceAll(c,"");let u=d+e;return this.$router.push({name:u})},convertToDraft:function(e,s){console.log("draft is clicked");const t=this.$router.currentRoute._value.params;console.log(t),this.$http("infrastructure/api/record/"+t.record+"/note/"+t.note+"/draft",{method:"POST"}).then(a=>{a.success&&a.record&&(e.status=a.record.status,e.status_step=a.record.status_step)})},convertToPending:function(e,s){console.log("pending is clicked");const t=this.$router.currentRoute._value.params;console.log(t),this.$http("infrastructure/api/record/"+t.record+"/note/"+t.note+"/pending",{method:"POST"}).then(a=>{a.success&&a.record&&(e.status=a.record.status,e.status_step=a.record.status_step)})},convertToVerified:function(e,s){console.log("verified is clicked");const t=this.$router.currentRoute._value.params;this.$http("infrastructure/api/record/"+t.record+"/note/"+t.note+"/verified",{method:"POST"}).then(a=>{a.success&&a.record&&(e.status=a.record.status,e.status_step=a.record.status_step)})},convertToUnVerified:function(e,s){console.log("unverified is clicked");const t=this.$router.currentRoute._value.params;this.$http("infrastructure/api/record/"+t.record+"/note/"+t.note+"/unverified",{method:"POST"}).then(a=>{a.success&&a.record&&(e.status=a.record.status,e.status_step=a.record.status_step)})},convertToCancelled:function(e,s){console.log("cancelled is clicked");const t=this.$router.currentRoute._value.params;this.$http("infrastructure/api/record/"+t.record+"/note/"+t.note+"/cancelled",{method:"POST"}).then(a=>{a.success&&a.record&&(e.status=a.record.status,e.status_step=a.record.status_step)})},getImage:function(e){this.$http(e.proof_img_path,{method:"GET"}).then(s=>{console.log(s)})}}};function Ke(e,s,t,a,d,u){const c=K("v-currency-field"),m=K("v-date-input"),v=K("form-show");return V(),b(v,{"with-helpdesk":"","hide-edit":""},{toolbar:o(({record:i,store:l})=>[i.status_step=="1"&&i.is_creator?(V(),b(k,{key:0,icon:""},{default:o(()=>[n(te,{onClick:s[0]||(s[0]=_=>u.redirectPage("edit"))},{default:o(()=>s[2]||(s[2]=[h(" edit ")])),_:1,__:[2]})]),_:1})):y("",!0)]),default:o(({combos:{statuses:i},record:l,store:_})=>[n($e,null,{default:o(()=>[l!=null&&l.status_step!=null?(V(),b(Fe,{key:0,"model-value":l.status_step,class:"mb-6","alt-labels":""},{default:o(()=>[n(le,null,{default:o(()=>[n(N,{title:"Draft",value:"1"}),n(w),n(N,{title:"Pending",value:"2"}),n(w),n(N,{title:l.status_step==3?l.status:"Confirmed",value:"3"},null,8,["title"])]),_:2},1024)]),_:2},1032,["model-value"])):y("",!0),s[3]||(s[3]=G("div",{class:"text-overline mt-6"},"Data :",-1)),n(w,{thickness:3,class:"mt-3 mb-6"}),n(P,{dense:""},{default:o(()=>[n(T,{cols:"12"},{default:o(()=>[n(ee,{label:"Name",modelValue:l.name,"onUpdate:modelValue":r=>l.name=r,readonly:!0},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),n(P,{dense:""},{default:o(()=>[n(T,{cols:"12"},{default:o(()=>[n(Ue,{label:"Rincian",modelValue:l.description,"onUpdate:modelValue":r=>l.description=r,readonly:!0},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),n(P,{dense:""},{default:o(()=>[n(T,{cols:"12"},{default:o(()=>[n(c,{label:"Harga Pembayaran",modelValue:l.payprice,"onUpdate:modelValue":r=>l.payprice=r,readonly:!0},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),n(P,{dense:""},{default:o(()=>[n(T,{cols:"12"},{default:o(()=>[n(m,{label:"Tanggal Pembayaran",modelValue:l.paydate,"onUpdate:modelValue":r=>l.paydate=r,readonly:!0},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),s[4]||(s[4]=G("div",{class:"text-overline mt-6"},"Bukti pembayaran :",-1)),n(w,{thickness:3,class:"mt-3 mb-6"}),n(P,{dense:""},{default:o(()=>[n(Te,{src:l.proof_img_path,"aspect-ratio":"16/9",cover:""},null,8,["src"])]),_:2},1024),s[5]||(s[5]=G("div",{class:"text-overline mt-6"},"Dibuat oleh :",-1)),n(w,{thickness:3,class:"mt-3 mb-6"}),l.user!=null?(V(),b(P,{key:1,dense:""},{default:o(()=>[n(T,{cols:"12"},{default:o(()=>[n(ee,{label:"Name",modelValue:l.user.name,"onUpdate:modelValue":r=>l.user.name=r,readonly:!0},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)):y("",!0)]),_:2,__:[3,4,5]},1024)]),info:o(({theme:i,record:l,store:_})=>[l!=null&&l.is_creator&&l.status=="pending"&&l.status_step!=3?(V(),b(k,{key:0,class:"mt-3",color:i,block:"",variant:"flat",onClick:r=>u.convertToDraft(l,this)},{default:o(()=>s[6]||(s[6]=[h("Ubah Ke Draft")])),_:2,__:[6]},1032,["color","onClick"])):y("",!0),l!=null&&(l.is_admin||l.is_verificator)&&l.status_step!=3&&l.status_step==2?(V(),b(k,{key:1,class:"mt-3",color:i,block:"",variant:"flat",onClick:r=>u.convertToVerified(l,this)},{default:o(()=>s[7]||(s[7]=[h("Ubah Ke Verified")])),_:2,__:[7]},1032,["color","onClick"])):y("",!0),l!=null&&(l.is_admin||l.is_verificator)&&l.status_step!=3&&l.status_step==2?(V(),b(k,{key:2,class:"mt-3",color:i,block:"",variant:"flat",onClick:r=>u.convertToUnVerified(l,this)},{default:o(()=>s[8]||(s[8]=[h("Ubah Ke UnVerified")])),_:2,__:[8]},1032,["color","onClick"])):y("",!0),l!=null&&l.is_creator&&l.status=="draft"&&l.status_step!=3?(V(),b(k,{key:3,class:"mt-3",color:i,block:"",variant:"flat",onClick:r=>u.convertToPending(l,this)},{default:o(()=>s[9]||(s[9]=[h("Ubah Ke Pending")])),_:2,__:[9]},1032,["color","onClick"])):y("",!0),l!=null&&l.is_creator&&l.status_step!=3?(V(),b(k,{key:4,class:"mt-3",color:i,block:"",variant:"flat",onClick:r=>u.convertToCancelled(l,this)},{default:o(()=>s[10]||(s[10]=[h("Ubah Ke Cancelled")])),_:2,__:[10]},1032,["color","onClick"])):y("",!0),n(Ie),n(k,{class:"mt-3",color:i,block:"",variant:"flat",onClick:s[1]||(s[1]=r=>u.redirectPage("used"))},{default:o(()=>s[11]||(s[11]=[h("Lihat Yang Digunakan")])),_:2,__:[11]},1032,["color"])]),_:1})}const ze=Ce(Ge,[["render",Ke]]);export{ze as default};
