import{_ as k,b as _,w as a,e,V as I,g as m,E as C,G as w,d as v,l as n,$ as x,p as i,I as D,i as c,m as u,B as U,C as y,R,P as h,W as A,j as B,k as N,F,Q as S,D as T,o as p,Y as E,n as O}from"./App-Da-KJahm.js";import{V as P,a as $}from"./VExpansionPanels-C2j2e7lE.js";const z={name:"reservation-game-edit",data:()=>({items:["INDOOR","OUTDOOR"],expand:!1,images:[],newImages:[],dialogImage:!1,selectedImageIndex:null}),methods:{toggleImage(t){this.images=Array.isArray(t.images)?[...t.images]:[],this.expand=!0},handleImageUpload(t){t&&Array.from(t).forEach(l=>{const r=new FileReader;r.onload=g=>{this.images.push(g.target.result)},r.readAsDataURL(l)})},saveImage(t){t.images=[...this.images],this.expand=!1,this.newImages=[]},openDeleteDialog(t){this.selectedImageIndex=t,this.dialogImage=!0},confirmDelete(){this.selectedImageIndex!==null&&(this.images.splice(this.selectedImageIndex,1),this.dialogImage=!1,this.selectedImageIndex=null),this.newImages=[]}}},H={class:"text-end"},j={class:"position-relative"};function G(t,l,r,g,L,o){const f=v("v-currency-field"),b=v("form-edit");return p(),_(b,{"with-helpdesk":""},{default:a(({record:d})=>[e(n,null,{default:a(()=>[e(I,{dense:""},{default:a(()=>[e(m,{cols:"12"},{default:a(()=>[e(C,{label:"Nama",modelValue:d.name,"onUpdate:modelValue":s=>d.name=s,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(m,{cols:"12"},{default:a(()=>[e(w,{label:"Type",items:t.items,modelValue:d.type,"onUpdate:modelValue":s=>d.type=s,"hide-details":""},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024),e(m,{cols:"12"},{default:a(()=>[e(f,{label:"Harga Sewa",prefix:"Rp",modelValue:d.price,"onUpdate:modelValue":s=>d.price=s,"model-value":Number(d.price),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024),e(m,{cols:"12"},{default:a(()=>[e(f,{label:"Harga Dasar",prefix:"Rp",modelValue:d.basic,"onUpdate:modelValue":s=>d.basic=s,"model-value":Number(d.basic),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(D,{class:"my-4"},{default:a(()=>[e(x,{class:"text-uppercase"},{default:a(()=>l[3]||(l[3]=[i("Details Image")])),_:1,__:[3]})]),_:1}),e(n,null,{default:a(()=>[c("div",H,[e(u,{flat:"",color:"primary",class:"ma-2",onClick:s=>o.toggleImage(d),disabled:t.expand,"hide-details":""},{default:a(()=>l[4]||(l[4]=[i(" Tambah Foto ")])),_:2,__:[4]},1032,["onClick","disabled"])])]),_:2},1024),e(n,null,{default:a(()=>[U(e(P,{flat:""},{default:a(()=>[e($,null,{default:a(()=>[e(n,null,{default:a(()=>[e(R,{variant:"underlined",modelValue:t.newImages,"onUpdate:modelValue":[l[0]||(l[0]=s=>t.newImages=s),o.handleImageUpload],accept:"image/*",label:"Pilih Gambar","prepend-icon":"add_a_photo",multiple:"","show-size":"","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(h,null,{default:a(()=>[e(A),e(u,{color:"primary",onClick:s=>o.saveImage(d)},{default:a(()=>l[5]||(l[5]=[i(" Simpan ")])),_:2,__:[5]},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1536),[[y,t.expand]])]),_:2},1024),e(n,null,{default:a(()=>[e(I,null,{default:a(()=>[(p(!0),B(F,null,N(t.images,(s,V)=>(p(),_(m,{key:V,cols:"12",sm:"4",md:"3"},{default:a(()=>[c("div",j,[e(E,{src:s,"aspect-ratio":"1",rounded:"lg",cover:""},null,8,["src"]),e(u,{class:"position-absolute bottom-0 right-1 z-10",size:"small",icon:"",variant:"tonal",color:"red",onClick:Q=>o.openDeleteDialog(V)},{default:a(()=>[e(O,null,{default:a(()=>l[6]||(l[6]=[i("delete")])),_:1,__:[6]})]),_:2},1032,["onClick"])])]),_:2},1024))),128))]),_:1}),e(S,{modelValue:t.dialogImage,"onUpdate:modelValue":l[2]||(l[2]=s=>t.dialogImage=s),transition:"dialog-bottom-transition",width:"auto"},{default:a(()=>[e(T,null,{default:a(()=>[e(n,null,{default:a(()=>l[7]||(l[7]=[i(" Apakah Anda yakin ingin menghapus gambar ini?")])),_:1,__:[7]}),e(h,{class:"justify-end"},{default:a(()=>[e(u,{text:"",onClick:l[1]||(l[1]=s=>t.dialogImage=!1)},{default:a(()=>l[8]||(l[8]=[i("Batal")])),_:1,__:[8]}),e(u,{color:"red",onClick:o.confirmDelete},{default:a(()=>l[9]||(l[9]=[i("Hapus")])),_:1,__:[9]},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const q=k(z,[["render",G]]);export{q as default};
