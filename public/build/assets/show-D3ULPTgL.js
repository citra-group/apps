import{D as U,A as w}from"./document-BhEnvCCC.js";import{_ as T,b as f,w as t,e as a,p as C,m as b,i as h,V as s,g as u,E as o,M as P,I as k,Q as B,D as R,bk as $,j as N,f as g,t as j,L as A,y as I,bl as L,l as S,d as E,o as m}from"./App-Da-KJahm.js";const F={name:"infrastructure-record-show",components:{Asset:w,Document:U},data(){return{}},methods:{redirectPage:function(d=""){const c=this.$router.currentRoute._value.name;let v=["show","create","delete","update"],_=c;for(let V of v)_=_.replaceAll(V,"");let i=_+d;return this.$router.push({name:i})},handleInitRecordDuedate:function(d,n){d.duedate=new Date(d.duedate)},changeTargetType:function(d,n,c){d.assetable_type_slug=void 0,d.unit_id=void 0,d.document_id=void 0,d.asset_id=void 0,d.is_document_with_asset=void 0},isValidTimestamp:function(d){return/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(d)}}},G={key:0};function H(d,n,c,v,_,i){const V=E("form-show");return m(),f(V,{"with-helpdesk":""},{default:t(({combos:{units:y,documents:x,assets:M,target_types:D},record:e,store:r})=>[a(S,null,{default:t(()=>[a(s,{dense:""},{default:t(()=>[a(u,{cols:"12"},{default:t(()=>[a(o,{label:"Name",modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,readonly:!0},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),a(s,{dense:""},{default:t(()=>[a(u,{cols:"12"},{default:t(()=>[a(o,{label:"Deskripsi",modelValue:e.description,"onUpdate:modelValue":l=>e.description=l,readonly:!0},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),a(s,{class:"mt-6",style:{display:"flex","align-items":"center","justify-content":"space-between"},dense:""},{default:t(()=>[a(u,{cols:"6"},{default:t(()=>n[1]||(n[1]=[h("div",{class:"text-overline"},"Deadline Record",-1)])),_:1,__:[1]}),a(P,{modelValue:e.duedate_active,"onUpdate:modelValue":l=>e.duedate_active=l,disabled:!0,"hide-details":"","hide-label":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(k,{thickness:3,class:"mt-3 mb-6"}),a(B,null,{activator:t(({props:l})=>[a(s,{style:{display:"flex","align-items":"center",gap:"20px"},dense:""},{default:t(()=>[i.isValidTimestamp(e.duedate)?(m(),N("div",G,j(i.handleInitRecordDuedate(e,r)),1)):g("",!0),e.duedate instanceof Date?(m(),f(o,{key:1,label:"Tanggal",value:new Date(e.duedate).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"}),readonly:!0,disabled:e.duedate_active==!1||e.duedate_active==null||e.duedate_active==null,"persistent-placeholder":""},null,8,["value","disabled"])):g("",!0),e.duedate instanceof Date?g("",!0):(m(),f(o,{key:2,label:"Tanggal",value:e.duedate,readonly:!0,disabled:e.duedate_active==!1||e.duedate_active==null||e.duedate_active==null,"persistent-placeholder":""},null,8,["value","disabled"])),a(b,A(l,{color:"surface-variant",text:"Pilih Tanggal",disabled:e.duedate_active==!1||e.duedate_active==null,variant:"flat"}),null,16,["disabled"])]),_:2},1024)]),default:t(({isActive:l})=>[a(R,null,{default:t(()=>[a(s,{dense:""},{default:t(()=>[a(u,{cols:"12"},{default:t(()=>[a($,{style:{width:"100%"},disabled:e.duedate_active==!1,modelValue:e.duedate,"onUpdate:modelValue":[p=>e.duedate=p,p=>{console.log(p)}]},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),a(b,{text:"Close",color:"surface-variant",onClick:p=>l.value=!1},null,8,["onClick"])]),_:2},1024)]),_:2},1024),a(s,{dense:""},{default:t(()=>[a(u,{cols:"4"},{default:t(()=>[a(o,{modelValue:e.period_number_day,"onUpdate:modelValue":l=>e.period_number_day=l,label:"Periode Hari",type:"number",min:"0",disabled:!0,outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(u,{cols:"4"},{default:t(()=>[a(o,{modelValue:e.period_number_month,"onUpdate:modelValue":l=>e.period_number_month=l,label:"Periode Bulan",type:"number",min:"0",disabled:!0,outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(u,{cols:"4"},{default:t(()=>[a(o,{modelValue:e.period_number_year,"onUpdate:modelValue":l=>e.period_number_year=l,label:"Periode Tahun",type:"number",disabled:!0,min:"0",outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),n[2]||(n[2]=h("div",{class:"text-overline mt-6"},"Tujuan Record",-1)),a(k,{thickness:3,class:"mt-3 mb-6"}),a(s,{dense:""},{default:t(()=>[a(u,{cols:"12"},{default:t(()=>[a(I,{items:D,"item-value":"slug","item-title":"name","return-object":!1,label:"Record Untuk",modelValue:e.targetable_type_slug,"onUpdate:modelValue":[l=>e.targetable_type_slug=l,l=>i.changeTargetType(e,this,r)],readonly:!0},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),(m(),f(L(e.targetable_type_slug),{combos:r.combos,store:r,record:e,data:this},null,8,["combos","store","record"]))]),_:2,__:[2]},1024)]),info:t(({theme:y})=>[a(b,{class:"mt-3",color:y,block:"",variant:"flat",onClick:n[0]||(n[0]=x=>i.redirectPage("note"))},{default:t(()=>n[3]||(n[3]=[C("List Catatan")])),_:2,__:[3]},1032,["color"])]),_:1})}const z=T(F,[["render",H]]);export{z as default};
