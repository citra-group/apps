import{_ as T,b as r,w as l,d as _,o as m,V as h,h as p,e,g as b,f as g,q as y,t as $,N as x,m as c,n as d,E as u,s as v,I as N,j as R,Y as C}from"./App-CjoH1pZn.js";import{V as B}from"./VTextarea-Dd-kK7gJ.js";const E={name:"mycoperative-withdrawal-show",data:()=>({formatter:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})}),methods:{publishCurrentSubmission(n,o){o.$http(`mycoperative/api/withdrawal/${n.id}/publish`,{method:"PUT",params:n}).then(()=>{this.$router.push({name:"mycoperative-withdrawal"})})},closeThisTransaction(n,o){o.$http(`mycoperative/api/withdrawal/${n.id}/close-by-cash`,{method:"PUT",params:n}).then(()=>{this.$router.push({name:"mycoperative-withdrawal"})})},downloadReceiptOfTransaction(n,o){o.$http(`mycoperative/api/receipt/${n.slug}`,{method:"GET",responseType:"blob"}).then(f=>{const V=new Blob([f],{type:"application/pdf"}),i=document.createElement("a");i.href=URL.createObjectURL(V),i.download=n.slug+".pdf",i.click(),URL.revokeObjectURL(i.href),o.loader.state=!1}).catch(()=>{})}}},I={class:"text-caption pr-1 pl-2"},D={key:0};function L(n,o,f,V,i,w){const U=_("v-currency-field"),k=_("form-show");return m(),r(k,{"with-helpdesk":"","hide-delete":"","hide-edit":"",ref:"form"},{toolbar:l(({record:a,store:s})=>[["REPAIRED"].includes(a.status)?(m(),r(h,{key:0,color:"orange",icon:"edit",onClick:o[0]||(o[0]=t=>n.$refs.form.openFormEdit())})):p("",!0),a.status==="COMPLETED"?(m(),r(h,{key:1,icon:"",onClick:t=>w.downloadReceiptOfTransaction(a,s)},{default:l(()=>[e(g,null,{default:l(()=>o[1]||(o[1]=[b("print")])),_:1})]),_:2},1032,["onClick"])):p("",!0)]),default:l(({record:a,theme:s})=>[e(x,{color:s,class:"position-absolute d-flex pa-1",rounded:"pill",style:{top:"8px",right:"8px"}},{default:l(()=>[o[2]||(o[2]=y("div",{class:"text-caption bg-white rounded-pill px-2"},"STS",-1)),y("div",I,$(a.status),1)]),_:2},1032,["color"]),e(v,null,{default:l(()=>[e(c,{dense:""},{default:l(()=>[e(d,{cols:"12"},{default:l(()=>[e(u,{label:"Nomor",variant:"outlined",modelValue:a.slug,"onUpdate:modelValue":t=>a.slug=t,color:s,readonly:"","hide-details":""},null,8,["modelValue","onUpdate:modelValue","color"])]),_:2},1024),e(d,{cols:"12"},{default:l(()=>[e(u,{label:"name",variant:"outlined",color:s,modelValue:a.name,"onUpdate:modelValue":t=>a.name=t,readonly:"","hide-details":""},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"12"},{default:l(()=>[e(U,{label:"Nominal",variant:"outlined",color:s,modelValue:a.total,"onUpdate:modelValue":t=>a.total=t,"hide-details":"",readonly:""},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"12"},{default:l(()=>[e(B,{label:"Keterangan",rows:"3",variant:"outlined",color:s,modelValue:a.description,"onUpdate:modelValue":t=>a.description=t,readonly:""},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(N,{class:"overline"},{default:l(()=>o[3]||(o[3]=[b("Informasi Bank")])),_:1}),e(v,{class:"pt-2"},{default:l(()=>[e(c,{dense:""},{default:l(()=>[e(d,{cols:"6"},{default:l(()=>[e(u,{label:"Mode",variant:"outlined",modelValue:a.transfermode,"onUpdate:modelValue":t=>a.transfermode=t,readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:l(()=>[e(u,{label:"Tgl Tf",variant:"outlined",modelValue:a.transferdate,"onUpdate:modelValue":t=>a.transferdate=t,readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),a.transfermode==="BANK"?(m(),R("div",D,[e(c,{dense:""},{default:l(()=>[e(d,{cols:"4"},{default:l(()=>[e(u,{label:"BANK",variant:"outlined",modelValue:a.bank_name,"onUpdate:modelValue":t=>a.bank_name=t,"hide-details":"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"8"},{default:l(()=>[e(u,{variant:"outlined",label:"Nomor Rekening",modelValue:a.bank_account_number,"onUpdate:modelValue":t=>a.bank_account_number=t,readonly:"","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"12"},{default:l(()=>[e(u,{variant:"outlined",label:"Atas Nama",modelValue:a.bank_account_name,"onUpdate:modelValue":t=>a.bank_account_name=t,readonly:"","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)])):p("",!0),e(d,{cols:"12"},{default:l(()=>[e(C,{src:a.transfer_path},null,8,["src"])]),_:2},1024)]),_:2},1024)]),_:1},512)}const A=T(E,[["render",L],["__scopeId","data-v-0cbcd864"]]);export{A as default};
