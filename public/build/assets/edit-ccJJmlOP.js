import{_ as C,b as I,w as a,e,V as f,g as n,E as U,d as v,l as u,i as x,B as w,I as b,$ as y,p as i,m as r,C as D,R as A,P as h,W as B,j as N,k as F,F as P,Q as R,D as S,o as V,Y as E,n as T}from"./App-DxUS_QIK.js";import{V as j,a as z}from"./VExpansionPanels-D1_vKqWV.js";const H={name:"reservation-hall-edit",data(){return{expand:!1,images:[],dialogImage:!1,selectedImageIndex:null,newImages:[]}},methods:{toggleImagePanel(d){this.images=Array.isArray(d.images)?[...d.images]:[],this.expand=!0},handleImageUpload(d){d&&Array.from(d).forEach(l=>{const g=new FileReader;g.onload=_=>{this.images.push(_.target.result)},g.readAsDataURL(l)})},saveImage(d){d.images=[...this.images],this.expand=!1,this.newImages=[]},removeImage(){this.selectedImageIndex!==null&&(this.images.splice(this.selectedImageIndex,1),this.dialogImage=!1,this.selectedImageIndex=null),this.newImages=[]},openDeleteDialog(d){this.selectedImageIndex=d,this.dialogImage=!0}}},L={class:"text-end"},G={class:"position-relative"};function K(d,l,g,_,o,m){const p=v("v-currency-field"),k=v("form-edit");return V(),I(k,{"with-helpdesk":""},{default:a(({record:s})=>[e(u,null,{default:a(()=>[e(f,{dense:""},{default:a(()=>[e(n,{cols:"12"},{default:a(()=>[e(U,{label:"Nama Aula",modelValue:s.name,"onUpdate:modelValue":t=>s.name=t,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(n,{cols:"12",md:"6"},{default:a(()=>[e(p,{label:"Kapasitas",suffix:"/ Orang",modelValue:s.capacity,"onUpdate:modelValue":t=>s.capacity=t,"model-value":Number(s.capacity),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024),e(n,{cols:"12",md:"6"},{default:a(()=>[e(p,{label:"Sector Aula",suffix:"/ Bagian",modelValue:s.sector,"onUpdate:modelValue":t=>s.sector=t,"model-value":Number(s.sector),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024),e(n,{cols:"12",md:"6"},{default:a(()=>[e(p,{label:"Harga Sewa",prefix:"Rp",modelValue:s.price,"onUpdate:modelValue":t=>s.price=t,"model-value":Number(s.price),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024),e(n,{cols:"12",md:"6"},{default:a(()=>[e(p,{label:"Harga Dasar",prefix:"Rp",modelValue:s.basic,"onUpdate:modelValue":t=>s.basic=t,"model-value":Number(s.basic),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(u,null,{default:a(()=>[e(b,{class:"my-4"},{default:a(()=>[e(y,{class:"text-uppercase"},{default:a(()=>l[3]||(l[3]=[i("Details Image")])),_:1,__:[3]})]),_:1}),x("div",L,[e(r,{flat:"",color:"primary",class:"ma-2",onClick:t=>m.toggleImagePanel(s),disabled:o.expand},{default:a(()=>l[4]||(l[4]=[i(" +Tambah Foto ")])),_:2,__:[4]},1032,["onClick","disabled"])]),w(e(j,{flat:""},{default:a(()=>[e(z,null,{default:a(()=>[e(u,null,{default:a(()=>[e(f,{density:""},{default:a(()=>[e(n,{cols:"12",md:"6"},{default:a(()=>[e(A,{variant:"underlined",modelValue:o.newImages,"onUpdate:modelValue":[l[0]||(l[0]=t=>o.newImages=t),m.handleImageUpload],accept:"image/*",label:"Pilih Gambar","prepend-icon":"add_a_photo",multiple:"","show-size":"","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(n,{class:"text-end bottom-0 pt-2",cols:"12",md:"6"},{default:a(()=>[e(r,{variant:"tonal",color:"primary",onClick:t=>m.saveImage(s)},{default:a(()=>l[5]||(l[5]=[i(" Simpan ")])),_:2,__:[5]},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(h,null,{default:a(()=>[e(B)]),_:1})]),_:2},1024)]),_:2},1536),[[D,o.expand]])]),_:2},1024),e(u,null,{default:a(()=>[e(f,null,{default:a(()=>[(V(!0),N(P,null,F(o.images,(t,c)=>(V(),I(n,{key:c,cols:"12",sm:"4",md:"3"},{default:a(()=>[x("div",G,[e(E,{src:t,"aspect-ratio":"1",rounded:"lg",cover:""},null,8,["src"]),e(r,{small:"",icon:"",variant:"tonal",color:"red",class:"position-absolute bottom-0 right-1 z-10",onClick:O=>m.openDeleteDialog(c)},{default:a(()=>[e(T,null,{default:a(()=>l[6]||(l[6]=[i("delete")])),_:1,__:[6]})]),_:2},1032,["onClick"])])]),_:2},1024))),128))]),_:1}),e(R,{modelValue:o.dialogImage,"onUpdate:modelValue":l[2]||(l[2]=t=>o.dialogImage=t),transition:"dialog-bottom-transition",width:"auto"},{default:a(()=>[e(S,null,{default:a(()=>[e(u,null,{default:a(()=>l[7]||(l[7]=[i(" Apakah Anda yakin ingin menghapus gambar ini?")])),_:1,__:[7]}),e(b,{class:"mb-4"}),e(h,{class:"justify-end"},{default:a(()=>[e(r,{variant:"text",onClick:l[1]||(l[1]=t=>o.dialogImage=!1)},{default:a(()=>l[8]||(l[8]=[i("Batal")])),_:1,__:[8]}),e(r,{color:"red",variant:"text",onClick:m.removeImage},{default:a(()=>l[9]||(l[9]=[i("Delete")])),_:1,__:[9]},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const Y=C(H,[["render",K]]);export{Y as default};
