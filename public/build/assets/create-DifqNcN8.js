import{_ as U,b as m,w as a,d as r,o as p,e,f as x,g as k,V as R,m as s,n as u,E as C,y as w,h as _,q as c,I as b,M as $,R as I,U as T,s as j}from"./App-5lJ7zli5.js";import{V as B}from"./VTextarea-vi2dfXw8.js";const N={name:"infrastructure-record-note-create",data:()=>({blob_path:""}),methods:{changeImg:(d,t)=>{if(d.proof_img==""||d.proof_img==null)t.blob_path="";else{const o=URL.createObjectURL(d.proof_img);t.blob_path=o}},saveRecord:function(d,t){let o=this.$router.currentRoute._value.href;this.$router.currentRoute._value.name,o=o.replace("/create",""),o=o.substring(1),o=o.replace("infrastructure/","infrastructure/api/"),this.$http(o,{method:"POST",params:d,contentType:"multipart/form-data"}).then(f=>{t.records.push(f),t.openFormData(),t.snackbar.color="green",t.snackbar.text=`tambah data ${t.pageKey} berhasil`,t.snackbar.state=!0})}}};function S(d,t,o,f,D,V){const h=r("v-currency-field"),v=r("v-date-input"),y=r("form-create");return p(),m(y,{"with-helpdesk":"","hide-save":""},{toolbar:a(({record:i,store:l})=>[e(R,{onClick:g=>V.saveRecord(i,l),icon:""},{default:a(()=>[e(x,null,{default:a(()=>t[0]||(t[0]=[k(" save ")])),_:1})]),_:2},1032,["onClick"])]),default:a(({combos:{statuses:i},record:l,store:g})=>[e(j,null,{default:a(()=>[e(s,{dense:""},{default:a(()=>[e(u,{cols:"12"},{default:a(()=>[e(C,{label:"Name",modelValue:l.name,"onUpdate:modelValue":n=>l.name=n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(s,{dense:""},{default:a(()=>[e(u,{cols:"12"},{default:a(()=>[e(B,{x:"",label:"Rincian",modelValue:l.description,"onUpdate:modelValue":n=>l.description=n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(s,{dense:""},{default:a(()=>[i!=null?(p(),m(w,{key:0,items:i.store,"return-object":!1,label:"Status",modelValue:l.status,"onUpdate:modelValue":n=>l.status=n},null,8,["items","modelValue","onUpdate:modelValue"])):_("",!0)]),_:2},1024),e(s,{class:"mt-6",style:{display:"flex","align-items":"center","justify-content":"space-between"},dense:""},{default:a(()=>[e(u,{cols:"6"},{default:a(()=>t[1]||(t[1]=[c("div",{class:"text-overline"},"Opsi Pembuatan Catatan",-1)])),_:1})]),_:1}),e(b,{thickness:3,class:"mt-3 mb-6"}),e(s,{style:{display:"flex","align-items":"center","justify-content":"space-between"},dense:""},{default:a(()=>[e(u,{cols:"6"},{default:a(()=>t[2]||(t[2]=[c("div",{class:"text-h6"},"Di Input Sebagai Selesai",-1)])),_:1})]),_:1}),e(s,{class:"mt-6",style:{display:"flex","align-items":"center","justify-content":"space-between"},dense:""},{default:a(()=>[e(u,{cols:"6"},{default:a(()=>t[3]||(t[3]=[c("div",{class:"text-overline"},"Deadline Record",-1)])),_:1}),e($,{modelValue:l.duedate_active,"onUpdate:modelValue":n=>l.duedate_active=n,"hide-details":"","hide-label":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(b,{thickness:3,class:"mt-3 mb-6"}),e(s,{dense:""},{default:a(()=>[e(u,{cols:"12"},{default:a(()=>[e(h,{label:"Harga Pembayaran",modelValue:l.payprice,"onUpdate:modelValue":n=>l.payprice=n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(s,{dense:""},{default:a(()=>[e(u,{cols:"12"},{default:a(()=>[e(v,{label:"Tanggal Pembayaran",modelValue:l.paydate,"onUpdate:modelValue":n=>l.paydate=n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(s,{dense:""},{default:a(()=>[e(I,{label:"Gambar Bukti",modelValue:l.proof_img,"onUpdate:modelValue":[n=>l.proof_img=n,n=>V.changeImg(l,this)]},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(s,{dense:""},{default:a(()=>[d.blob_path!=null&&d.blob_path!=""?(p(),m(T,{key:0,src:d.blob_path,"aspect-ratio":"16/9",cover:""},null,8,["src"])):_("",!0)]),_:1})]),_:2},1024)]),_:1})}const O=U(N,[["render",S]]);export{O as default};
