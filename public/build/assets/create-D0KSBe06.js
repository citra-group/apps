import{_ as x,b as g,w as a,e,V as v,g as n,E as I,d as h,l as u,i as U,I as w,m as p,p as c,B as k,C as y,R as C,P as N,W as A,j as B,k as F,F as P,o as f,Y as R,n as E}from"./App-Da-KJahm.js";import{V as S,a as D}from"./VExpansionPanels-C2j2e7lE.js";const T={name:"reservation-field-create",data(){return{expand:!1,images:[],newImages:[]}},methods:{toggleImagePanel(s){this.images=Array.isArray(s.images)?[...s.images]:[],this.expand=!0},handleImageUpload(s){s&&Array.from(s).forEach(d=>{const r=new FileReader;r.onload=V=>{this.images.push(V.target.result)},r.readAsDataURL(d)})},saveImage(s){s.images=[...this.images],this.expand=!1,this.newImages=[]},removeImage(s){this.images.splice(s,1)}}},L={class:"text-end"};function H(s,d,r,V,o,m){const i=h("v-currency-field"),b=h("form-create");return f(),g(b,{"with-helpdesk":""},{default:a(({record:l})=>[e(u,null,{default:a(()=>[e(v,{dense:""},{default:a(()=>[e(n,{cols:"12"},{default:a(()=>[e(I,{label:"Nama Aula",modelValue:l.name,"onUpdate:modelValue":t=>l.name=t,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(n,{cols:"12",md:"6"},{default:a(()=>[e(i,{label:"Kapasitas",suffix:"/ orang",modelValue:l.capacity,"onUpdate:modelValue":t=>l.capacity=t,"model-value":Number(l.capacity),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024),e(n,{cols:"12"},{default:a(()=>[e(i,{label:"Sector Lapangan",suffix:"/ bagian",modelValue:l.sector,"onUpdate:modelValue":t=>l.sector=t,"model-value":Number(l.sector),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024),e(n,{cols:"12"},{default:a(()=>[e(i,{label:"Harga Sewa",prefix:"Rp",modelValue:l.price,"onUpdate:modelValue":t=>l.price=t,"model-value":Number(l.price),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024),e(n,{cols:"12"},{default:a(()=>[e(i,{label:"Harga Dasar",prefix:"Rp",modelValue:l.basic,"onUpdate:modelValue":t=>l.basic=t,"model-value":Number(l.basic),"hide-details":""},null,8,["modelValue","onUpdate:modelValue","model-value"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(u,null,{default:a(()=>[e(w,{class:"my-4"}),U("div",L,[e(p,{flat:"",color:"primary",class:"ma-2",onClick:t=>m.toggleImagePanel(l),disabled:o.expand,"hide-details":""},{default:a(()=>d[1]||(d[1]=[c(" Tambah Foto ")])),_:2,__:[1]},1032,["onClick","disabled"])])]),_:2},1024),e(u,null,{default:a(()=>[k(e(S,{flat:""},{default:a(()=>[e(D,null,{default:a(()=>[e(u,null,{default:a(()=>[e(C,{variant:"underlined",modelValue:o.newImages,"onUpdate:modelValue":[d[0]||(d[0]=t=>o.newImages=t),m.handleImageUpload],accept:"image/*",label:"Pilih Gambar","prepend-icon":"add_a_photo",multiple:"","show-size":"","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(N,null,{default:a(()=>[e(A),e(p,{color:"primary",onClick:t=>m.saveImage(l)},{default:a(()=>d[2]||(d[2]=[c(" Simpan ")])),_:2,__:[2]},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1536),[[y,o.expand]])]),_:2},1024),e(u,null,{default:a(()=>[e(v,null,{default:a(()=>[(f(!0),B(P,null,F(o.images,(t,_)=>(f(),g(n,{key:_,cols:"12",sm:"4",md:"3"},{default:a(()=>[e(R,{src:t,"aspect-ratio":"1",rounded:"lg",cover:""},null,8,["src"]),e(p,{small:"",icon:"",variant:"tonal",color:"red",class:"mt-1",onClick:j=>m.removeImage(_)},{default:a(()=>[e(E,null,{default:a(()=>d[3]||(d[3]=[c("delete")])),_:1,__:[3]})]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}const K=x(T,[["render",H]]);export{K as default};
