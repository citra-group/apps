import{_ as S,b as u,w as e,d as c,o as d,e as t,m as v,n as i,E as b,I as h,h as m,j as D,k as x,F as I,s as U,S as X,q as r,V as y,g as s,T as w,f as T,U as F,C as L,l as Z,L as $,t as f,J as R}from"./App-BGxaph2H.js";import{V as C}from"./VBanner-3VkhrbbS.js";const j={name:"coperative-payment-show",computed:{getEndDate(){var o=new Date(this.date.getFullYear(),this.date.getMonth(),this.date.getDate()+1);return o.toISOString().slice(0,10)}},data:()=>({date:new Date,menuTerima:!1,formatter:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})}),methods:{dateFormated(o){if(!o)return null;const[a,V,_]=o.split("-");return`${_}-${V}-${a}`},sendAcception(o,a){a.$http(`coperative/api/payment/${o.id}/approve`,{method:"PUT",params:o}).then(()=>{a.snackbar.color="green",a.snackbar.text="Berhasil",a.snackbar.state=!0,this.$router.push({name:"coperative-payment"})})},sendReject(o,a){a.$http(`coperative/api/payment/${o.id}/reject`,{method:"PUT",params:o}).then(()=>{a.snackbar.color="green",a.snackbar.text="Berhasil",a.snackbar.state=!0,this.$router.push({name:"coperative-payment"})})}}},H={class:"mr-4"};function K(o,a,V,_,z,g){const A=c("v-currency-field"),B=c("v-date-input"),N=c("form-show");return d(),u(N,{"with-helpdesk":"","hide-edit":"","hide-delete":""},{default:e(({record:l,store:k,theme:p})=>[t(U,null,{default:e(()=>[t(v,{dense:""},{default:e(()=>[t(i,{cols:"12"},{default:e(()=>[t(b,{label:"Name",modelValue:l.name,"onUpdate:modelValue":n=>l.name=n,dense:"","hide-details":"",variant:"plain",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(h),t(i,{cols:"6"},{default:e(()=>[t(b,{color:`${p} thin`,class:"mt-2",label:"Nomor",modelValue:l.slug,"onUpdate:modelValue":n=>l.slug=n,dense:"","hide-details":"",variant:"outlined",readonly:""},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024),t(i,{cols:"6"},{default:e(()=>[t(A,{color:p,class:"mt-2",label:"Total",modelValue:l.grandtotal,"onUpdate:modelValue":n=>l.grandtotal=n,dense:"","hide-details":"",variant:"outlined",readonly:""},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024),l.paymentmode==="BANK"?(d(),u(i,{key:0,cols:"12",md:"6"},{default:e(()=>[t(B,{color:p,modelValue:l.paid_at,"onUpdate:modelValue":n=>l.paid_at=n,label:"Tanggal Terima","prepend-icon":"","prepend-inner-icon":"$calendar",variant:"outlined"},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024)):m("",!0),(d(!0),D(I,null,x(l.details,n=>(d(),u(L,{key:n.id,class:"mb-4 w-100",flat:""},{default:e(()=>[t(Z,{lines:"three",style:{padding:"0%"}},{default:e(()=>[t($,{class:"px-2 py-2"},{default:e(()=>[s(f(n.name),1)]),_:2},1024),t(h),t($,{class:R([`bg-${p}-lighten-5`,"py-4 px-2"])},{default:e(()=>[t(v,null,{default:e(()=>[t(i,{cols:"4"},{default:e(()=>[a[0]||(a[0]=r("div",{class:"pt-2"},"Tenor",-1)),s(" "+f(n.tenor)+"/ "+f(n.tenor_total),1)]),_:2},1024),t(i,{cols:"4"},{default:e(()=>[a[1]||(a[1]=r("div",{class:"pt-2"},"Total",-1)),s(" "+f(o.formatter.format(n.grandtotal)),1)]),_:2},1024),t(i,{cols:"4"},{default:e(()=>[a[2]||(a[2]=r("div",{class:"pt-2"},"Jatuh Tempo",-1)),s(" "+f(n.duedate),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024))),128)),t(U,{class:"d-flex"},{default:e(()=>[t(X),r("div",H,[l.status!=="SUDAH LUNAS"?(d(),u(y,{key:0,variant:"flat",color:"red",onClick:n=>g.sendReject(l,k)},{default:e(()=>a[3]||(a[3]=[s("Tolak ")])),_:2},1032,["onClick"])):m("",!0)]),r("div",null,[l.status!=="SUDAH LUNAS"?(d(),u(y,{key:0,disabled:!l.paid_at&&l.paymentmode==="BANK",variant:"flat",color:p,onClick:n=>g.sendAcception(l,k)},{default:e(()=>a[4]||(a[4]=[s("Terima ")])),_:2},1032,["disabled","color","onClick"])):m("",!0)])]),_:2},1024),l.paymode==="CASH"?(d(),u(i,{key:1,cols:"12"},{default:e(()=>[t(C,{"two-line":""},{default:e(()=>[t(w,{color:"deep-purple accent-4",size:"40"},{default:e(()=>[t(T,{color:"white"},{default:e(()=>a[5]||(a[5]=[s("privacy_tip")])),_:1})]),_:1}),a[6]||(a[6]=s(" Untuk melakukan pembayaran silahkan datang ke kantor pusat. "))]),_:1})]),_:1})):m("",!0),l.paymode==="BANK"?(d(),u(i,{key:2,cols:"12"},{default:e(()=>[t(C,{"two-line":""},{default:e(()=>[t(w,{color:"deep-purple accent-4",size:"40"},{default:e(()=>[t(T,{color:"white"},{default:e(()=>a[7]||(a[7]=[s("privacy_tip")])),_:1})]),_:1}),a[8]||(a[8]=s(" Pembayaran dapat dilakukan dengan cara transfer ke ")),a[9]||(a[9]=r("ul",null,[r("li",null,"Bank BCA dengan nomor rekening XXXXXXXX"),r("li",null," Bank Mandiri dengan nomor rekening ZZZZZZZ ")],-1)),a[10]||(a[10]=s(" Setelah transfer dilakukan, silahkan unggah bukti bayar dibawah ini. "))]),_:1})]),_:1})):m("",!0),l.paymode==="BANK"&&l.transfer_path?(d(),u(i,{key:3,cols:"12"},{default:e(()=>[t(F,{src:l.transfer_path},null,8,["src"])]),_:2},1024)):m("",!0)]),_:2},1024)]),_:2},1024)]),info:e(({record:l,store:k,theme:p})=>[l.status==="SUDAH LUNAS"?(d(),u(y,{key:0,class:"mt-2",color:p,block:"",onClick:n=>o.downloadReceipt(l,k)},{default:e(()=>a[11]||(a[11]=[s("Unduh Tanda Terima")])),_:2},1032,["color","onClick"])):m("",!0)]),_:1})}const J=S(j,[["render",K]]);export{J as default};
