import{_ as p,b as m,w as l,e as n,g as f,E as b,V as s,R as _,f as h,Y as V,n as g,p as v,m as k,d as R,o as d}from"./App-Da-KJahm.js";const $={name:"infrastructure-images-create",data:()=>({blob_path:""}),methods:{changeImg:(t,e)=>{if(t.image==""||t.image==null)e.blob_path="";else{const a=URL.createObjectURL(t.image);e.blob_path=a}},saveRecord:function(t,e){let a=this.$router.currentRoute._value.href;this.$router.currentRoute._value.name,a=a.replace("/create",""),a=a.substring(1),a=a.replace("infrastructure/","infrastructure/api/"),this.$http(a,{method:"POST",params:t,contentType:"multipart/form-data"}).then(u=>{e.records.push(u),e.openFormData(),e.snackbar.color="green",e.snackbar.text=`tambah data ${e.pageKey} berhasil`,e.snackbar.state=!0})}}};function C(t,e,a,u,U,c){const i=R("form-create");return d(),m(i,{"with-helpdesk":"","hide-save":""},{toolbar:l(({record:o,store:r})=>[n(k,{onClick:I=>c.saveRecord(o,r),icon:""},{default:l(()=>[n(g,null,{default:l(()=>e[0]||(e[0]=[v(" save ")])),_:1,__:[0]})]),_:2},1032,["onClick"])]),default:l(({record:o})=>[n(s,{dense:""},{default:l(()=>[n(f,{cols:"12"},{default:l(()=>[n(b,{label:"Name",modelValue:o.name,"onUpdate:modelValue":r=>o.name=r},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),n(s,{dense:""},{default:l(()=>[n(_,{label:"Gambar",modelValue:o.image,"onUpdate:modelValue":[r=>o.image=r,r=>c.changeImg(o,this)]},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),n(s,{dense:""},{default:l(()=>[t.blob_path!=null&&t.blob_path!=""?(d(),m(V,{key:0,src:t.blob_path,"aspect-ratio":"16/9",cover:""},null,8,["src"])):h("",!0)]),_:1})]),_:1})}const x=p($,[["render",C]]);export{x as default};
