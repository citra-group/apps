import{_ as U,o as u,j as V,e as a,w as l,n as _,y as b,m as i,b as f,h as m,g as v,V as y,F as x,d as j,E as g,q as A,M as P,I as D,Q as C,K as B,D as N,bk as R,bl as F,s as E}from"./App-DnAwVsSu.js";const J={name:"infrastructure-tax-create-asset",props:["record","data","combos","store"],methods:{changeUnit:function(d,t,e){d.assetable_type_slug!=null&&this.changeAssetType(d,t,e)},changeAssetType:function(d,t,e){d.asset_id=void 0,this.$http(`infrastructure/api/ref-asset/${d.unit_id}/${d.assetable_type_slug}/asset`).then(c=>{e.combos.assets=c})}}},M={key:1};function S(d,t,e,c,T,r){return u(),V(x,null,[a(i,{dense:""},{default:l(()=>[a(_,{cols:"12"},{default:l(()=>[a(b,{items:e.combos.units,"return-object":!1,"item-value":"id","item-title":"name",modelValue:e.record.unit_id,"onUpdate:modelValue":[t[0]||(t[0]=s=>e.record.unit_id=s),t[1]||(t[1]=s=>r.changeUnit(e.record,e.data,e.store))],label:"Untuk "+e.record.targetable_type_slug+" Dari Unit"},null,8,["items","modelValue","label"])]),_:1})]),_:1}),e.record.unit_id!=null?(u(),f(i,{key:0,dense:""},{default:l(()=>[a(_,{cols:"12"},{default:l(()=>[a(b,{items:e.combos.asset_types,"item-value":"slug","item-title":"name","return-object":!1,modelValue:e.record.assetable_type_slug,"onUpdate:modelValue":[t[2]||(t[2]=s=>e.record.assetable_type_slug=s),t[3]||(t[3]=s=>r.changeAssetType(e.record,e.data,e.store))],label:"Pilih Jenis Asset"},null,8,["items","modelValue"])]),_:1})]),_:1})):m("",!0),e.record.assetable_type_slug!=null&&e.combos.assets!=null?(u(),V("div",M,[e.combos.assets.length>0?(u(),f(i,{key:0,dense:""},{default:l(()=>[a(_,{cols:"12"},{default:l(()=>[a(b,{"return-object":!1,items:e.combos.assets,"item-value":"id","item-title":"name",modelValue:e.record.asset_id,"onUpdate:modelValue":t[4]||(t[4]=s=>e.record.asset_id=s),label:"Pilih Asset"},null,8,["items","modelValue"])]),_:1})]),_:1})):m("",!0),e.combos.assets.length==0?(u(),f(i,{key:1,dense:""},{default:l(()=>[a(y,{class:"mt-2",color:"teal-darken-4",block:"",variant:"flat",disabled:d.disabled},{default:l(()=>t[5]||(t[5]=[v("Tidak Ditemukan Asset Manapun")])),_:1},8,["color","disabled"])]),_:1})):m("",!0)])):m("",!0)],64)}const W=U(J,[["render",S]]),q={name:"infrastructure-tax-create-document",data(){},props:["record","data","combos","store"],methods:{changeUnit:function(d,t,e){d.assetable_type_slug=void 0,d.document_id=void 0,d.asset_id=void 0,d.assetable_type_slug!=null&&this.changeAssetType(d,t,e)},changeDocumentWithAsset:function(d,t,e){d.assetable_type_slug=void 0,d.document_id=void 0,d.asset_id=void 0,e.combos.assets=[],e.combos.documents=[],d.is_document_with_asset=="tidak"&&this.$http(`infrastructure/api/ref-document/unit/${d.unit_id}/documents`).then(c=>{e.combos.documents=c})},changeAssetType:function(d,t,e){d.asset_id=void 0,this.$http(`infrastructure/api/ref-asset/${d.unit_id}/${d.assetable_type_slug}/asset`).then(c=>{e.combos.assets=c})},changeAsset:function(d,t,e){d.document_id=void 0,this.$http(`infrastructure/api/ref-document/unit/${d.unit_id}/asset/${d.asset_id}/documents`).then(c=>{e.combos.documents=c})}}},G={key:0},H={key:1},I={key:2},K={key:1},L={key:0};function Q(d,t,e,c,T,r){return u(),V(x,null,[a(i,{dense:""},{default:l(()=>[a(_,{cols:"12"},{default:l(()=>[a(b,{items:e.combos.units,"return-object":!1,"item-value":"id","item-title":"name",modelValue:e.record.unit_id,"onUpdate:modelValue":[t[0]||(t[0]=s=>e.record.unit_id=s),t[1]||(t[1]=s=>r.changeUnit(e.record,e.data,e.store))],label:"Untuk "+e.record.targetable_type_slug+" Dari Unit"},null,8,["items","modelValue","label"])]),_:1})]),_:1}),a(i,{dense:""},{default:l(()=>[a(_,{cols:"12"},{default:l(()=>[a(b,{items:["tidak","iya"],modelValue:e.record.is_document_with_asset,"onUpdate:modelValue":[t[2]||(t[2]=s=>e.record.is_document_with_asset=s),t[3]||(t[3]=s=>r.changeDocumentWithAsset(e.record,e.data,e.store))],label:"Apakah document terhubung dengan asset.."},null,8,["modelValue"])]),_:1})]),_:1}),e.record.is_document_with_asset=="iya"?(u(),V("div",G,[e.record.unit_id!=null?(u(),f(i,{key:0,dense:""},{default:l(()=>[a(_,{cols:"12"},{default:l(()=>[a(b,{items:e.combos.asset_types,"item-value":"slug","item-title":"name","return-object":!1,modelValue:e.record.assetable_type_slug,"onUpdate:modelValue":[t[4]||(t[4]=s=>e.record.assetable_type_slug=s),t[5]||(t[5]=s=>r.changeAssetType(e.record,e.data,e.store))],label:"Pilih Jenis Asset"},null,8,["items","modelValue"])]),_:1})]),_:1})):m("",!0),e.record.assetable_type_slug!=null&&e.combos.assets!=null?(u(),V("div",H,[e.combos.assets.length>0?(u(),f(i,{key:0,dense:""},{default:l(()=>[a(_,{cols:"12"},{default:l(()=>[a(b,{"return-object":!1,items:e.combos.assets,"item-value":"id","item-title":"name",modelValue:e.record.asset_id,"onUpdate:modelValue":[t[6]||(t[6]=s=>e.record.asset_id=s),t[7]||(t[7]=s=>r.changeAsset(e.record,e.data,e.store))],label:"Pilih Asset"},null,8,["items","modelValue"])]),_:1})]),_:1})):m("",!0),e.combos.assets.length==0?(u(),f(i,{key:1,dense:""},{default:l(()=>[a(y,{class:"mt-2",color:"teal-darken-4",block:"",variant:"flat",disabled:d.disabled},{default:l(()=>t[10]||(t[10]=[v("Tidak Ditemukan Asset Apapun")])),_:1},8,["color","disabled"])]),_:1})):m("",!0)])):m("",!0),e.record.asset_id!=null&&e.combos.documents!=null?(u(),V("div",I,[e.combos.documents.length>0?(u(),f(i,{key:0,dense:""},{default:l(()=>[a(_,{cols:"12"},{default:l(()=>[a(b,{"return-object":!1,items:e.combos.documents,"item-value":"id","item-title":"name",modelValue:e.record.document_id,"onUpdate:modelValue":t[8]||(t[8]=s=>e.record.document_id=s),label:"Pilih Document"},null,8,["items","modelValue"])]),_:1})]),_:1})):m("",!0),e.combos.documents.length==0?(u(),f(i,{key:1,dense:""},{default:l(()=>[a(y,{class:"mt-2",color:"teal-darken-4",block:"",variant:"flat",disabled:d.disabled},{default:l(()=>t[11]||(t[11]=[v("Tidak Ditemukan Document Apapun")])),_:1},8,["color","disabled"])]),_:1})):m("",!0)])):m("",!0)])):m("",!0),e.record.is_document_with_asset=="tidak"?(u(),V("div",K,[e.record.unit_id!=null&&e.combos.documents!=null?(u(),V("div",L,[e.combos.documents.length>0?(u(),f(i,{key:0,dense:""},{default:l(()=>[a(_,{cols:"12"},{default:l(()=>[a(b,{"return-object":!1,items:e.combos.documents,"item-value":"id","item-title":"name",modelValue:e.record.document_id,"onUpdate:modelValue":t[9]||(t[9]=s=>e.record.document_id=s),label:"Pilih Document"},null,8,["items","modelValue"])]),_:1})]),_:1})):m("",!0),e.combos.documents.length==0?(u(),f(i,{key:1,dense:""},{default:l(()=>[a(y,{class:"mt-2",color:"teal-darken-4",block:"",variant:"flat",disabled:d.disabled},{default:l(()=>t[12]||(t[12]=[v("Tidak Ditemukan Document Apapun")])),_:1},8,["color","disabled"])]),_:1})):m("",!0)])):m("",!0)])):m("",!0)],64)}const z=U(q,[["render",Q]]),O={name:"infrastructure-record-create",components:{Asset:W,Document:z},data(){return{}},methods:{changeTargetType:function(d,t,e){d.assetable_type_slug=void 0,d.unit_id=void 0,d.document_id=void 0,d.asset_id=void 0,d.is_document_with_asset=void 0},isValidTimestamp:function(d){return/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(d)}}};function X(d,t,e,c,T,r){const s=j("form-create");return u(),f(s,{"with-helpdesk":""},{default:l(({combos:{units:Y,documents:Z,assets:p,target_types:w},record:n,store:h})=>[a(E,null,{default:l(()=>[a(i,{dense:""},{default:l(()=>[a(_,{cols:"12"},{default:l(()=>[a(g,{label:"Name",modelValue:n.name,"onUpdate:modelValue":o=>n.name=o},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),a(i,{dense:""},{default:l(()=>[a(_,{cols:"12"},{default:l(()=>[a(g,{label:"Deskripsi",modelValue:n.description,"onUpdate:modelValue":o=>n.description=o},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),a(i,{class:"mt-6",style:{display:"flex","align-items":"center","justify-content":"space-between"},dense:""},{default:l(()=>[a(_,{cols:"6"},{default:l(()=>t[0]||(t[0]=[A("div",{class:"text-overline"},"Deadline Record",-1)])),_:1}),a(P,{modelValue:n.duedate_active,"onUpdate:modelValue":o=>n.duedate_active=o,"hide-details":"","hide-label":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(D,{thickness:3,class:"mt-3 mb-6"}),a(C,null,{activator:l(({props:o})=>[a(i,{style:{display:"flex","align-items":"center",gap:"20px"},dense:""},{default:l(()=>[n.duedate!=null?(u(),f(g,{key:0,label:"Tanggal",value:n.duedate.toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"}),readonly:!0,disabled:n.duedate_active==!1||n.duedate_active==null||n.duedate_active==null,"persistent-placeholder":""},null,8,["value","disabled"])):m("",!0),n.duedate==null?(u(),f(g,{key:1,label:"Tanggal",value:n.duedate,readonly:!0,disabled:n.duedate_active==!1||n.duedate_active==null||n.duedate_active==null,"persistent-placeholder":""},null,8,["value","disabled"])):m("",!0),a(y,B(o,{color:"surface-variant",text:"Pilih Tanggal",disabled:n.duedate_active==!1||n.duedate_active==null,variant:"flat"}),null,16,["disabled"])]),_:2},1024)]),default:l(({isActive:o})=>[a(N,null,{default:l(()=>[t[1]||(t[1]=v("r ")),a(i,{dense:""},{default:l(()=>[a(_,{cols:"12"},{default:l(()=>[a(R,{style:{width:"100%"},disabled:n.duedate_active==!1,modelValue:n.duedate,"onUpdate:modelValue":[k=>n.duedate=k,k=>{console.log(k)}]},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),a(y,{text:"Close",color:"surface-variant",onClick:k=>o.value=!1},null,8,["onClick"])]),_:2},1024)]),_:2},1024),a(i,{dense:""},{default:l(()=>[a(_,{cols:"4"},{default:l(()=>[a(g,{modelValue:n.period_number_day,"onUpdate:modelValue":o=>n.period_number_day=o,label:"Periode Hari",type:"number",min:"0",disabled:n.duedate_active==!1||n.duedate_active==null||n.duedate_active==null,outlined:""},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),a(_,{cols:"4"},{default:l(()=>[a(g,{modelValue:n.period_number_month,"onUpdate:modelValue":o=>n.period_number_month=o,label:"Periode Bulan",type:"number",min:"0",disabled:n.duedate_active==!1||n.duedate_active==null||n.duedate_active==null,outlined:""},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),a(_,{cols:"4"},{default:l(()=>[a(g,{modelValue:n.period_number_year,"onUpdate:modelValue":o=>n.period_number_year=o,label:"Periode Tahun",type:"number",disabled:n.duedate_active==!1||n.duedate_active==null||n.duedate_active==null,min:"0",outlined:""},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024)]),_:2},1024),t[2]||(t[2]=A("div",{class:"text-overline mt-6"},"Tujuan Record",-1)),a(D,{thickness:3,class:"mt-3 mb-6"}),a(i,{dense:""},{default:l(()=>[a(_,{cols:"12"},{default:l(()=>[a(b,{items:w,"item-value":"slug","item-title":"name","return-object":!1,label:"Record Untuk",modelValue:n.targetable_type_slug,"onUpdate:modelValue":[o=>n.targetable_type_slug=o,o=>r.changeTargetType(n,this,h)]},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),(u(),f(F(n.targetable_type_slug),{combos:h.combos,store:h,record:n,data:this},null,8,["combos","store","record"]))]),_:2},1024)]),_:1})}const ee=U(O,[["render",X]]);export{ee as default};
