import{_ as T,b as r,w as l,e,i as _,t as g,N as $,V as p,g as d,E as i,d as h,l as b,p as y,I as x,j as N,f as c,Y as R,m as v,n as C,o as m}from"./App-Da-KJahm.js";import{V as B}from"./VTextarea-D2DFl51m.js";const E={name:"mycoperative-withdrawal-show",data:()=>({formatter:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})}),methods:{publishCurrentSubmission(n,o){o.$http(`mycoperative/api/withdrawal/${n.id}/publish`,{method:"PUT",params:n}).then(()=>{this.$router.push({name:"mycoperative-withdrawal"})})},closeThisTransaction(n,o){o.$http(`mycoperative/api/withdrawal/${n.id}/close-by-cash`,{method:"PUT",params:n}).then(()=>{this.$router.push({name:"mycoperative-withdrawal"})})},downloadReceiptOfTransaction(n,o){o.$http(`mycoperative/api/receipt/${n.slug}`,{method:"GET",responseType:"blob"}).then(f=>{const V=new Blob([f],{type:"application/pdf"}),u=document.createElement("a");u.href=URL.createObjectURL(V),u.download=n.slug+".pdf",u.click(),URL.revokeObjectURL(u.href),o.loader.state=!1}).catch(()=>{})}}},I={class:"text-caption pr-1 pl-2"},D={key:0};function L(n,o,f,V,u,w){const U=h("v-currency-field"),k=h("form-show");return m(),r(k,{"with-helpdesk":"","hide-delete":"","hide-edit":"",ref:"form"},{toolbar:l(({record:a,store:s})=>[["REPAIRED"].includes(a.status)?(m(),r(v,{key:0,color:"orange",icon:"edit",onClick:o[0]||(o[0]=t=>n.$refs.form.openFormEdit())})):c("",!0),a.status==="COMPLETED"?(m(),r(v,{key:1,icon:"",onClick:t=>w.downloadReceiptOfTransaction(a,s)},{default:l(()=>[e(C,null,{default:l(()=>o[1]||(o[1]=[y("print")])),_:1,__:[1]})]),_:2},1032,["onClick"])):c("",!0)]),default:l(({record:a,theme:s})=>[e($,{color:s,class:"position-absolute d-flex pa-1",rounded:"pill",style:{top:"8px",right:"8px"}},{default:l(()=>[o[2]||(o[2]=_("div",{class:"text-caption bg-white rounded-pill px-2"},"STS",-1)),_("div",I,g(a.status),1)]),_:2,__:[2]},1032,["color"]),e(b,null,{default:l(()=>[e(p,{dense:""},{default:l(()=>[e(d,{cols:"12"},{default:l(()=>[e(i,{label:"Nomor",variant:"outlined",modelValue:a.slug,"onUpdate:modelValue":t=>a.slug=t,color:s,readonly:"","hide-details":""},null,8,["modelValue","onUpdate:modelValue","color"])]),_:2},1024),e(d,{cols:"12"},{default:l(()=>[e(i,{label:"name",variant:"outlined",color:s,modelValue:a.name,"onUpdate:modelValue":t=>a.name=t,readonly:"","hide-details":""},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"12"},{default:l(()=>[e(U,{label:"Nominal",variant:"outlined",color:s,modelValue:a.total,"onUpdate:modelValue":t=>a.total=t,"hide-details":"",readonly:""},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"12"},{default:l(()=>[e(B,{label:"Keterangan",rows:"3",variant:"outlined",color:s,modelValue:a.description,"onUpdate:modelValue":t=>a.description=t,readonly:""},null,8,["color","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(x,{class:"overline"},{default:l(()=>o[3]||(o[3]=[y("Informasi Bank")])),_:1,__:[3]}),e(b,{class:"pt-2"},{default:l(()=>[e(p,{dense:""},{default:l(()=>[e(d,{cols:"6"},{default:l(()=>[e(i,{label:"Mode",variant:"outlined",modelValue:a.transfermode,"onUpdate:modelValue":t=>a.transfermode=t,readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"6"},{default:l(()=>[e(i,{label:"Tgl Tf",variant:"outlined",modelValue:a.transferdate,"onUpdate:modelValue":t=>a.transferdate=t,readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),a.transfermode==="BANK"?(m(),N("div",D,[e(p,{dense:""},{default:l(()=>[e(d,{cols:"4"},{default:l(()=>[e(i,{label:"BANK",variant:"outlined",modelValue:a.bank_name,"onUpdate:modelValue":t=>a.bank_name=t,"hide-details":"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"8"},{default:l(()=>[e(i,{variant:"outlined",label:"Nomor Rekening",modelValue:a.bank_account_number,"onUpdate:modelValue":t=>a.bank_account_number=t,readonly:"","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"12"},{default:l(()=>[e(i,{variant:"outlined",label:"Atas Nama",modelValue:a.bank_account_name,"onUpdate:modelValue":t=>a.bank_account_name=t,readonly:"","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)])):c("",!0),e(d,{cols:"12"},{default:l(()=>[e(R,{src:a.transfer_path},null,8,["src"])]),_:2},1024)]),_:2},1024)]),_:1},512)}const A=T(E,[["render",L],["__scopeId","data-v-0cbcd864"]]);export{A as default};
