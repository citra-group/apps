import{a5 as L,bl as O,bm as j,by as z,_ as D,j as d,e as t,w as e,bz as G,F as b,d as V,o as i,q as s,S as N,P as F,f as P,g as h,s as w,m as B,n as u,G as M,V as I,b as _,h as v,l as W,k as g,i as A,aD as U,p as T,t as r,u as R,v as E,x as q}from"./App-CoFVa590.js";import{V as H}from"./VBadge-C1biB1Mj.js";const J=L()({name:"VSlideGroupItem",props:O(),emits:{"group:selected":l=>!0},setup(l,o){let{slots:m}=o;const y=j(l,z);return()=>{var C;return(C=m.default)==null?void 0:C.call(m,{isSelected:y.isSelected.value,select:y.select,toggle:y.toggle,selectedClass:y.selectedClass.value})}}}),Y={name:"mycoperative-dashboard",data:()=>({modelOverlay:!1,tenors:[],tenor:null,formatter:new Intl.NumberFormat("id-ID",{currency:"IDR",minimumFractionDigits:0})}),methods:{formatToCustomPattern(l){let o=l.toString().split(".")[0];return o=o.replace(/\B(?=(\d{3})+(?!\d))/g,"."),o},getTotalValue(l){return l.reduce((o,m)=>(o+=parseFloat(m.value),o),0)},getSisaValue(l){return!l||l.length===0?0:l.reduce((o,m,y)=>y===0?parseFloat(m.value):o-parseFloat(m.value),0)},openPayment(l){this.$router.push({name:"mycoperative-payment-show",params:{payment:l}})},openLoan(l){this.$router.push({name:"mycoperative-loan-show",params:{loan:l}})},getChipColor(l){switch(l){case"BELUM DIBAYAR":return"red";case"PUBLISH":return"primary"}},onInitialized:function({record:l}){this.tenors=l.tenors,l.hasMainDeposit||(this.modelOverlay=!0)},postDepositMain:function(){this.$http("mycoperative/api/set-main-deposit",{method:"POST",params:{tenor:parseInt(this.tenor)}}).then(()=>{this.modelOverlay=!1})}}},K={class:"px-6"},Q={class:"d-flex"},X={class:"text-right"},Z={class:"text-right"},$={class:"text-right"},tt={class:"text-right"},et={style:{"text-align":"right"}};function at(l,o,m,y,C,p){const c=V("widget-number"),k=V("apexchart"),S=V("widget-card"),x=V("page-home");return i(),d(b,null,[t(G,{"model-value":l.modelOverlay,class:"align-center justify-center",persistent:""},{default:e(()=>[s("div",K,[t(N,{class:"text-center",rounded:"lg"},{default:e(()=>[t(F,{class:"mt-4",color:"warning",size:"64"},{default:e(()=>[t(P,{size:"36"},{default:e(()=>o[1]||(o[1]=[h("lightbulb")])),_:1})]),_:1}),t(w,null,{default:e(()=>[o[2]||(o[2]=h(" Anda belum menentukan termin simpanan pokok. Silahkan pilih termin di bawah ini dan klik simpan. ")),t(B,{class:"mt-2"},{default:e(()=>[t(u,{cols:"12"},{default:e(()=>[t(M,{items:l.tenors,label:"Termin Simpanan Pokok",modelValue:l.tenor,"onUpdate:modelValue":o[0]||(o[0]=a=>l.tenor=a),"hide-details":""},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),t(w,{class:"pt-0"},{default:e(()=>[t(I,{block:"",onClick:p.postDepositMain},{default:e(()=>o[3]||(o[3]=[h("SIMPAN")])),_:1},8,["onClick"])]),_:1})]),_:1})])]),_:1},8,["model-value"]),t(x,{"page-name":"mycoperative-dashboard",onInitialized:p.onInitialized},{toolbar:e(({record:a})=>[a&&a.countUnreadNotification?(i(),_(I,{key:0,icon:""},{default:e(()=>[t(H,{color:"orange",content:a.countUnreadNotification,id:"menu-activator"},{default:e(()=>[t(P,null,{default:e(()=>o[4]||(o[4]=[h("notifications")])),_:1})]),_:2},1032,["content"])]),_:2},1024)):v("",!0),a&&a.processeLoan?(i(),_(A,{key:1,transition:"slide-x-transition",activator:"#menu-activator",width:"auto",rounded:"6"},{default:e(()=>[t(W,{density:"compact"},{default:e(()=>[(i(!0),d(b,null,g(a.processeLoan,(n,f)=>(i(),_(R,{key:n.id,value:f,onClick:lt=>p.openLoan(n.id),rounded:"xl",class:"mx-4"},{default:e(()=>[t(E,null,{default:e(()=>[t(P,{size:"small",class:"mr-4"},{default:e(()=>o[5]||(o[5]=[h("directory_sync")])),_:1}),h(r(n.slug)+" - "+r(n.name)+" - ",1),t(q,{size:"x-small",color:p.getChipColor(n.status)},{default:e(()=>[h(r(n.status),1)]),_:2},1032,["color"])]),_:2},1024)]),_:2},1032,["value","onClick"]))),128))]),_:2},1024)]),_:2},1024)):v("",!0)]),default:e(({record:a})=>[t(w,null,{default:e(()=>[t(U,null,{default:e(()=>[t(J,null,{default:e(()=>[s("div",Q,[t(u,null,{default:e(()=>[t(c,{width:"250",title:"Simpanan Pokok","hide-icon":"",label:"Simpanan Pokok saat ini",icon:"account_balance_wallet",value:l.formatter.format(a.totalPokok)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250",title:"Simpanan Wajib","hide-icon":"",label:"Simpanan Wajib saat ini",icon:"account_balance_wallet",value:l.formatter.format(a.totalWajib)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250",title:"Total Pokok & Wajib","hide-icon":"",label:"Total Pokok & Wajib saat ini",icon:"account_balance_wallet",value:l.formatter.format(a.totalPokokWajib)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250",title:"Tabungan","hide-icon":"",label:"Total Tabungan",icon:"account_balance_wallet",value:l.formatter.format(a.totalTabungan)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250",title:"Penarikan","hide-icon":"",label:"Penarikan saat ini",icon:"account_balance_wallet",value:l.formatter.format(a.totalPenarikan)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250",title:"Saldo Tabungan","hide-icon":"",label:"Saldo Tabungan saat ini",icon:"account_balance_wallet",value:l.formatter.format(a.totalSaldoTabungan)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250",title:"Saldo Simpanan","hide-icon":"",label:"Saldo Simpanan saat ini",icon:"account_balance_wallet",value:l.formatter.format(a.totalSaldo)},null,8,["value"])]),_:2},1024),t(u,null,{default:e(()=>[t(c,{width:"250","hide-icon":"",title:"Tagihan",label:"Total Tagihan Saat Ini",icon:"payments",value:l.formatter.format(a.sisaPinjaman)},null,8,["value"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024),t(w,{style:{"margin-bottom":"35px"}},{default:e(()=>[t(B,null,{default:e(()=>[a&&a.depositByType?(i(),_(u,{key:0,cols:"12",md:"3"},{default:e(()=>[t(S,{style:{"min-height":"210px"},title:a.depositByType.title},{table:e(()=>[t(T,{density:"compact"},{default:e(()=>[s("tbody",null,[(i(!0),d(b,null,g(a.depositByType.table,(n,f)=>(i(),d("tr",{key:f},[s("td",null,r(n.title),1),s("td",X,r(n.value),1)]))),128))])]),_:2},1024)]),default:e(()=>[t(k,{type:"donut",options:{...a.depositByType.chartOptions,tooltip:{y:{formatter:function(n){return p.formatToCustomPattern(n)}}}},series:a.depositByType.series},null,8,["options","series"])]),_:2},1032,["title"])]),_:2},1024)):v("",!0),a&&a.savingsBalance?(i(),_(u,{key:1,cols:"12",md:"3"},{default:e(()=>[t(S,{style:{"min-height":"210px"},title:a.savingsBalance.title},{table:e(()=>[t(T,{density:"compact"},{default:e(()=>[s("tbody",null,[(i(!0),d(b,null,g(a.savingsBalance.table,(n,f)=>(i(),d("tr",{key:f},[s("td",null,r(n.title),1),s("td",Z,r(n.value),1)]))),128))])]),_:2},1024)]),default:e(()=>[t(k,{type:"donut",options:{...a.savingsBalance.chartOptions,tooltip:{y:{formatter:function(n){return p.formatToCustomPattern(n)}}}},series:a.savingsBalance.series},null,8,["options","series"])]),_:2},1032,["title"])]),_:2},1024)):v("",!0),a&&a.loanvspayment?(i(),_(u,{key:2,cols:"12",md:"3"},{default:e(()=>[t(S,{style:{"min-height":"210px"},title:a.loanvspayment.title},{table:e(()=>[t(T,{density:"compact"},{default:e(()=>[s("tbody",null,[(i(!0),d(b,null,g(a.loanvspayment.table,(n,f)=>(i(),d("tr",{key:f},[s("td",null,r(n.title),1),s("td",$,r(n.value),1)]))),128))])]),_:2},1024)]),default:e(()=>[t(k,{type:"donut",options:{...a.loanvspayment.chartOptions,tooltip:{y:{formatter:function(n){return p.formatToCustomPattern(n)}}}},series:a.loanvspayment.series},null,8,["options","series"])]),_:2},1032,["title"])]),_:2},1024)):v("",!0),a&&a.loanbyStatus?(i(),_(u,{key:3,cols:"12",md:"3"},{default:e(()=>[t(S,{style:{"min-height":"210px"},title:a.loanbyStatus.title,"with-count":""},{table:e(()=>[t(T,{density:"compact"},{default:e(()=>[s("tbody",null,[(i(!0),d(b,null,g(a.loanbyStatus.table,(n,f)=>(i(),d("tr",{key:f},[s("td",null,r(n.title),1),s("td",tt,r(n.value),1)]))),128)),s("tr",null,[o[6]||(o[6]=s("td",null,"Jumlah",-1)),s("td",et,r(p.getTotalValue(a.loanbyStatus.table)),1)])])]),_:2},1024)]),default:e(()=>[t(k,{type:"donut",options:{...a.loanbyStatus.chartOptions,tooltip:{y:{formatter:function(n){return p.formatToCustomPattern(n)}}}},series:a.loanbyStatus.series},null,8,["options","series"])]),_:2},1032,["title"])]),_:2},1024)):v("",!0)]),_:2},1024)]),_:2},1024)]),_:1},8,["onInitialized"])],64)}const it=D(Y,[["render",at]]);export{it as default};
