import{_ as C,b as c,w as l,d as D,o as u,j as b,t as x,h as i,e,m as f,n as d,E as k,y as r,q as y,I as h,bj as B,V as v,g,s as w}from"./App-DwYYa9UH.js";const F={name:"infrastructure-document-create",data(){return{asset_type:void 0,asset_type_fetched:!1}},methods:{initAssetType:function(s){s.asset_type_fetched||(s.asset_type_fetched=!0,this.$http("infrastructure/api/ref-asset/type").then(a=>{s.asset_type=a}))},changeUnit:function(s,a,o){s.assetable_type_slug!=null&&this.changeAssetType(s,a,o)},changeAssetType:function(s,a,o){s.asset_id=void 0,this.$http(`infrastructure/api/ref-asset/${s.unit_id}/${s.assetable_type_slug}/asset`).then(_=>{console.log(_),o.combos.assets=_})},clearAssetOption:function(s,a){s.asset_id=void 0,s.assetable_type_slug=void 0},checkRoute:function(s=""){let a=this.$router.currentRoute._value.name,o=["show","delete","update","edit","create"];for(let _ of o)a=a.replaceAll("-"+_,"");return a==s}}},N={key:0},R={key:0},O={key:1},$={key:2};function E(s,a,o,_,V,p){const U=D("form-create");return u(),c(U,{"with-helpdesk":""},{default:l(({combos:{units:T,types:A,statuses:j},record:t,store:m})=>[V.asset_type==null&&V.asset_type_fetched!=!0?(u(),b("div",N,x(p.initAssetType(this)),1)):i("",!0),e(w,null,{default:l(()=>[e(f,{dense:""},{default:l(()=>[e(d,{cols:"12"},{default:l(()=>[e(k,{label:"Name",modelValue:t.name,"onUpdate:modelValue":n=>t.name=n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"12"},{default:l(()=>[e(k,{label:"Description",modelValue:t.description,"onUpdate:modelValue":n=>t.description=n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{cols:"12"},{default:l(()=>[e(r,{items:j,label:"Status",modelValue:t.status,"onUpdate:modelValue":n=>t.status=n,"return-object":!1},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),a[4]||(a[4]=y("div",{class:"text-overline mt-6"},"Form Document",-1)),e(h,{thickness:3,class:"mt-3 mb-5"}),e(f,{dense:""},{default:l(()=>[e(d,{cols:"12"},{default:l(()=>[e(r,{items:A,label:"Tipe Document","item-value":"slug","item-title":"name",modelValue:t.documentable_type_slug,"onUpdate:modelValue":n=>t.documentable_type_slug=n,"return-object":!1},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),(u(),c(B(s.currentFormType),{record:t},null,8,["record"])),p.checkRoute("infrastructure-document")?(u(),b("div",R,[a[0]||(a[0]=y("div",{class:"text-overline mt-6"},"Form Unit Tujuan",-1)),e(h,{thickness:3,class:"mt-3 mb-5"}),e(f,{dense:""},{default:l(()=>[e(d,{cols:"12"},{default:l(()=>[e(r,{"return-object":!1,items:T,"item-value":"id","item-title":"name",modelValue:t.unit_id,"onUpdate:modelValue":[n=>t.unit_id=n,n=>p.changeUnit(t,s.data,m)],label:"Untuk Document Dari Unit"},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)])):i("",!0),t.unit_id!=null&&V.asset_type!=null?(u(),b("div",O,[a[1]||(a[1]=y("div",{class:"text-overline mt-6"},"Form Asset Tujuan (Optional)",-1)),e(h,{thickness:3,class:"mt-3 mb-5"}),e(f,{dense:""},{default:l(()=>[e(d,{cols:"12"},{default:l(()=>[e(r,{"return-object":!1,items:V.asset_type,"item-value":"slug","item-title":"name",modelValue:t.assetable_type_slug,"onUpdate:modelValue":[n=>t.assetable_type_slug=n,n=>p.changeAssetType(t,s.data,m)],label:"Tipe Asset"},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)])):i("",!0),t.assetable_type_slug!=null&&m.combos.assets!=null?(u(),b("div",$,[m.combos.assets.length>0?(u(),c(f,{key:0,dense:""},{default:l(()=>[e(d,{cols:"12"},{default:l(()=>[e(r,{"return-object":!1,items:m.combos.assets,"item-value":"id","item-title":"name",modelValue:t.asset_id,"onUpdate:modelValue":n=>t.asset_id=n,label:"Pilih Asset"},null,8,["items","modelValue","onUpdate:modelValue"]),t.asset_id!=null?(u(),c(v,{key:0,class:"mt-2",color:"teal-darken-4",block:"",variant:"flat",onClick:n=>p.clearAssetOption(t,this)},{default:l(()=>a[2]||(a[2]=[g("Bersihkan Pilihan Asset")])),_:2},1032,["color","onClick"])):i("",!0)]),_:2},1024)]),_:2},1024)):i("",!0),m.combos.assets.length==0?(u(),c(f,{key:1,dense:""},{default:l(()=>[e(v,{class:"mt-2",color:"teal-darken-4",block:"",variant:"flat",disabled:s.disabled},{default:l(()=>a[3]||(a[3]=[g("Tidak Ditemukan Asset Manapun")])),_:1},8,["color","disabled"])]),_:1})):i("",!0)])):i("",!0)]),_:2},1024)]),_:1})}const S=C(F,[["render",E]]);export{S as default};
