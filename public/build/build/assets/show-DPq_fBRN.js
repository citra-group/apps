import{A as D,D as w}from"./document-B-CeIYIp.js";import{_ as C,b as c,w as t,d as T,o as m,e as a,m as s,n as u,E as o,q as h,M as P,I as U,U as B,j as R,t as $,h as b,V as g,K as j,C as N,bj as A,y as I,bk as S,s as E,g as L}from"./App-jUSSjO6J.js";const q={name:"infrastructure-record-show",components:{Asset:D,Document:w},data(){return{}},methods:{redirectPage:function(d=""){const f=this.$router.currentRoute._value.name;let v=["show","create","delete","update"],r=f;for(let V of v)r=r.replaceAll(V,"");let i=r+d;return this.$router.push({name:i})},handleInitRecordDuedate:function(d,n){d.duedate=new Date(d.duedate)},changeTargetType:function(d,n,f){d.assetable_type_slug=void 0,d.unit_id=void 0,d.document_id=void 0,d.asset_id=void 0,d.is_document_with_asset=void 0},isValidTimestamp:function(d){return/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(d)}}},F={key:0};function G(d,n,f,v,r,i){const V=T("form-show");return m(),c(V,{"with-helpdesk":""},{default:t(({combos:{units:y,documents:k,assets:H,target_types:x},record:e,store:_})=>[a(E,null,{default:t(()=>[a(s,{dense:""},{default:t(()=>[a(u,{cols:"12"},{default:t(()=>[a(o,{label:"Name",modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,readonly:!0},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),a(s,{dense:""},{default:t(()=>[a(u,{cols:"12"},{default:t(()=>[a(o,{label:"Deskripsi",modelValue:e.description,"onUpdate:modelValue":l=>e.description=l,readonly:!0},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),a(s,{class:"mt-6",style:{display:"flex","align-items":"center","justify-content":"space-between"},dense:""},{default:t(()=>[a(u,{cols:"6"},{default:t(()=>n[1]||(n[1]=[h("div",{class:"text-overline"},"Deadline Record",-1)])),_:1}),a(P,{modelValue:e.duedate_active,"onUpdate:modelValue":l=>e.duedate_active=l,disabled:!0,"hide-details":"","hide-label":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(U,{thickness:3,class:"mt-3 mb-6"}),a(B,null,{activator:t(({props:l})=>[a(s,{style:{display:"flex","align-items":"center",gap:"20px"},dense:""},{default:t(()=>[i.isValidTimestamp(e.duedate)?(m(),R("div",F,$(i.handleInitRecordDuedate(e,_)),1)):b("",!0),e.duedate instanceof Date?(m(),c(o,{key:1,label:"Tanggal",value:new Date(e.duedate).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"}),readonly:!0,disabled:e.duedate_active==!1||e.duedate_active==null||e.duedate_active==null,"persistent-placeholder":""},null,8,["value","disabled"])):b("",!0),e.duedate instanceof Date?b("",!0):(m(),c(o,{key:2,label:"Tanggal",value:e.duedate,readonly:!0,disabled:e.duedate_active==!1||e.duedate_active==null||e.duedate_active==null,"persistent-placeholder":""},null,8,["value","disabled"])),a(g,j(l,{color:"surface-variant",text:"Pilih Tanggal",disabled:e.duedate_active==!1||e.duedate_active==null,variant:"flat"}),null,16,["disabled"])]),_:2},1024)]),default:t(({isActive:l})=>[a(N,null,{default:t(()=>[a(s,{dense:""},{default:t(()=>[a(u,{cols:"12"},{default:t(()=>[a(A,{style:{width:"100%"},disabled:e.duedate_active==!1,modelValue:e.duedate,"onUpdate:modelValue":[p=>e.duedate=p,p=>{console.log(p)}]},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),a(g,{text:"Close",color:"surface-variant",onClick:p=>l.value=!1},null,8,["onClick"])]),_:2},1024)]),_:2},1024),a(s,{dense:""},{default:t(()=>[a(u,{cols:"4"},{default:t(()=>[a(o,{modelValue:e.period_number_day,"onUpdate:modelValue":l=>e.period_number_day=l,label:"Periode Hari",type:"number",min:"0",disabled:!0,outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(u,{cols:"4"},{default:t(()=>[a(o,{modelValue:e.period_number_month,"onUpdate:modelValue":l=>e.period_number_month=l,label:"Periode Bulan",type:"number",min:"0",disabled:!0,outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(u,{cols:"4"},{default:t(()=>[a(o,{modelValue:e.period_number_year,"onUpdate:modelValue":l=>e.period_number_year=l,label:"Periode Tahun",type:"number",disabled:!0,min:"0",outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),n[2]||(n[2]=h("div",{class:"text-overline mt-6"},"Tujuan Record",-1)),a(U,{thickness:3,class:"mt-3 mb-6"}),a(s,{dense:""},{default:t(()=>[a(u,{cols:"12"},{default:t(()=>[a(I,{items:x,"item-value":"slug","item-title":"name","return-object":!1,label:"Record Untuk",modelValue:e.targetable_type_slug,"onUpdate:modelValue":[l=>e.targetable_type_slug=l,l=>i.changeTargetType(e,this,_)],readonly:!0},null,8,["items","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),(m(),c(S(e.targetable_type_slug),{combos:_.combos,store:_,record:e,data:this},null,8,["combos","store","record"]))]),_:2},1024)]),info:t(({theme:y})=>[a(g,{class:"mt-3",color:y,block:"",variant:"flat",onClick:n[0]||(n[0]=k=>i.redirectPage("note"))},{default:t(()=>n[3]||(n[3]=[L("List Catatan")])),_:2},1032,["color"])]),_:1})}const z=C(q,[["render",G]]);export{z as default};
